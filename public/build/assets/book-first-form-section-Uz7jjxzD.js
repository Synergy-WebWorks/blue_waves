<<<<<<<< HEAD:public/build/assets/book-first-form-section-BfsCqbx2.js
import{u as w,a as P,r as o,j as e,h as D,A as Y,c as H}from"./app-C-hwDgbc.js";import{D as I}from"./index.esm-CkVRPLcV.js";import T from"./booking-guest-component-C0cpriyN.js";import q from"./booking-cart-component-g1xKpHt1.js";import{F as k,a as C}from"./ChevronRightIcon-BzuzaIiH.js";import"./dayjs.min-9O8p_ytW.js";import"./popover-DnXs_sPR.js";import"./use-root-containers-CXxKxbl-.js";import"./keyboard-CIv5g_8A.js";import"./use-resolve-button-type-D466h6JW.js";import"./index-C1vu3V7q.js";import"./dialog-Do7Ym6mD.js";import"./use-disposables-TMv2_ILM.js";function ae(){var N,v;const g=new Date;g.setMonth(g.getMonth()+1);const{rents:d}=w(s=>s.rent),{selected:h}=w(s=>s.app),c=new URLSearchParams(window.location.search),S=c.get("adults"),R=c.get("children");console.log("rentsrents",d);const r=((N=d.result)==null?void 0:N.filter(s=>s.type==="cottage"))||[],n=((v=d.result)==null?void 0:v.filter(s=>s.type==="room"))||[],_=P(),[m,p]=o.useState({adults:1,children:0});o.useEffect(()=>{p({adults:S,children:R})},[]);const[i,f]=o.useState({startDate:new Date,endDate:null}),A=c.get("start"),B=c.get("end");o.useEffect(()=>{f({startDate:A,endDate:B})},[]);const u=new Date;u.setHours(0,0,0,0);const[y,x]=o.useState(r.map(()=>0)),[z,j]=o.useState(n.map(()=>0));o.useEffect(()=>{r&&x(new Array(r.length).fill(0))},[r.length]);const E=s=>{x(a=>a.map((t,l)=>l===s?(t+1)%r[l].uploads.length:t))},F=s=>{x(a=>a.map((t,l)=>l===s?(t-1+r[l].uploads.length)%r[l].uploads.length:t))},M=s=>{j(a=>a.map((t,l)=>l===s?(t+1)%n[l].images.length:t))},L=s=>{j(a=>a.map((t,l)=>l===s?(t-1+n[l].images.length)%n[l].images.length:t))};function $(){Y.visit(`/book-reservation?start=${i.startDate}&end=${i.endDate}&adults=${m.adults}&children=${m.children}`)}console.log("selected",h);function b(s){const a=[...h,s],t=Array.from(new Map(a.map(l=>[l.id,l])).values());_(H(t))}return e.jsx("div",{className:"bg-gray-50",children:e.jsx("div",{className:"mx-auto px-4 pt-16 pb-24 sm:px-6 lg:px-8",children:e.jsx("div",{className:"lg:grid lg:grid-cols-1 lg:gap-x-12 xl:gap-x-16",children:e.jsx("div",{children:e.jsxs("div",{className:"mt-2 pt-1 pb-5",children:[e.jsxs("div",{className:"sticky top-0 z-10 bg-gray-50 pt-5 pb-5 px-5 py-5 border-b border-gray-300",children:[e.jsx("h2",{className:"text-lg font-medium text-cyan-600",children:"Booking Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:gap-4",children:[e.jsx(I,{primaryColor:"teal",value:i,onChange:s=>f({...i,startDate:D(s.startDate).format("LL"),endDate:D(s.endDate).format("LL")}),minDate:u,separator:"to",displayFormat:"MM/DD/YYYY",popoverDirection:"down",showShortcuts:!1,useRange:!1,className:"w-full sm:w-1/2 overflow-y-auto"}),e.jsx(T,{setPerson:p,person:m})]}),e.jsx("button",{onClick:$,className:"w-full px-6 py-2 bg-teal-600 text-white font-semibold rounded-lg hover:bg-teal-700 transition",children:"Search"})]}),e.jsx("div",{className:"flex justify-end items-end self-end",children:e.jsx(q,{})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-4 sm:grid-cols-2 sm:gap-x-6 sm:gap-y-10 lg:grid-cols-5 lg:gap-x-8 mt-6 p-3",children:[r.map((s,a)=>{var t;return e.jsxs("div",{className:"group relative flex flex-col overflow-hidden rounded-lg border border-gray-300 bg-white shadow-lg",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{alt:s.name,src:((t=s.uploads[y[a]])==null?void 0:t.file)??"/",className:"aspect-[3/4] w-full bg-gray-200 object-cover sm:aspect-auto sm:h-96"}),e.jsx("button",{className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-300 p-2 rounded-full shadow-md hover:bg-gray-200 opacity-80",onClick:()=>F(a),children:e.jsx(k,{className:"h-6 w-6 text-gray-600"})}),e.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-300 p-2 rounded-full shadow-md hover:bg-gray-200 opacity-80",onClick:()=>E(a),children:e.jsx(C,{className:"h-6 w-6 text-gray-600"})})]}),e.jsxs("div",{className:"flex flex-1 flex-col space-y-2 p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:e.jsx("a",{href:s.href,children:s.name})}),e.jsx("p",{className:"text-sm italic font-bold text-gray-500",children:s.options}),e.jsx("p",{className:"text-sm text-gray-500 text-justify",children:s.description}),e.jsx("div",{className:"flex flex-1 flex-col justify-end",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-base font-medium text-cyan-800",children:s.price}),e.jsx("button",{onClick:()=>b(s),className:"ml-4 bg-orange-500 text-white hover:bg-orange-600 px-2 py-1 rounded-md",children:"Add to Booking"})]})})]})]},s.room_id)}),n.map((s,a)=>{var t;return e.jsxs("div",{className:"group relative flex flex-col overflow-hidden rounded-lg border border-gray-300 bg-white shadow-lg",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{alt:s.name,src:((t=s.uploads[y[a]])==null?void 0:t.file)??"/",className:"aspect-[3/4] w-full bg-gray-200 object-cover sm:aspect-auto sm:h-96"}),e.jsx("button",{className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-300 p-2 rounded-full shadow-md hover:bg-gray-200 opacity-80",onClick:()=>L(a),children:e.jsx(k,{className:"h-6 w-6 text-gray-600"})}),e.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-300 p-2 rounded-full shadow-md hover:bg-gray-200 opacity-80",onClick:()=>M(a),children:e.jsx(C,{className:"h-6 w-6 text-gray-600"})})]}),e.jsxs("div",{className:"flex flex-1 flex-col space-y-2 p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:e.jsx("a",{href:s.href,children:s.name})}),e.jsx("p",{className:"text-sm italic font-bold text-gray-500",children:s.options}),e.jsx("p",{className:"text-sm text-gray-500 text-justify",children:s.description}),e.jsx("div",{className:"flex flex-1 flex-col justify-end",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-base font-medium text-cyan-800",children:s.price}),e.jsx("button",{onClick:()=>b(s),className:"ml-4 bg-orange-500 text-white hover:bg-orange-600 px-2 py-1 rounded-md",children:"Add to Booking"})]})})]})]},s.cottage_id)})]})]})})})})})}export{ae as default};
========
import{u as w,a as P,r as o,j as e,h as D,A as Y,c as H}from"./app-DbhIt74c.js";import{D as I}from"./index.esm-BDvk7EYD.js";import T from"./booking-guest-component-CUAxrc5N.js";import q from"./booking-cart-component-B0_V_pS3.js";import{F as k,a as C}from"./ChevronRightIcon-B6TiVbkA.js";import"./dayjs.min-CyhIRyqw.js";import"./popover-z0RJcWLo.js";import"./use-root-containers-C-hHtRex.js";import"./keyboard-CAqdfiWd.js";import"./use-resolve-button-type-CoKlRCZv.js";import"./index-BvrX-pPF.js";import"./dialog-t5JRia8L.js";import"./use-disposables-DjhuM-WP.js";function ae(){var N,v;const g=new Date;g.setMonth(g.getMonth()+1);const{rents:d}=w(s=>s.rent),{selected:h}=w(s=>s.app),c=new URLSearchParams(window.location.search),S=c.get("adults"),R=c.get("children");console.log("rentsrents",d);const r=((N=d.result)==null?void 0:N.filter(s=>s.type==="cottage"))||[],n=((v=d.result)==null?void 0:v.filter(s=>s.type==="room"))||[],_=P(),[m,p]=o.useState({adults:1,children:0});o.useEffect(()=>{p({adults:S,children:R})},[]);const[i,f]=o.useState({startDate:new Date,endDate:null}),A=c.get("start"),B=c.get("end");o.useEffect(()=>{f({startDate:A,endDate:B})},[]);const u=new Date;u.setHours(0,0,0,0);const[y,x]=o.useState(r.map(()=>0)),[z,j]=o.useState(n.map(()=>0));o.useEffect(()=>{r&&x(new Array(r.length).fill(0))},[r.length]);const E=s=>{x(a=>a.map((t,l)=>l===s?(t+1)%r[l].uploads.length:t))},F=s=>{x(a=>a.map((t,l)=>l===s?(t-1+r[l].uploads.length)%r[l].uploads.length:t))},M=s=>{j(a=>a.map((t,l)=>l===s?(t+1)%n[l].images.length:t))},L=s=>{j(a=>a.map((t,l)=>l===s?(t-1+n[l].images.length)%n[l].images.length:t))};function $(){Y.visit(`/book-reservation?start=${i.startDate}&end=${i.endDate}&adults=${m.adults}&children=${m.children}`)}console.log("selected",h);function b(s){const a=[...h,s],t=Array.from(new Map(a.map(l=>[l.id,l])).values());_(H(t))}return e.jsx("div",{className:"bg-gray-50",children:e.jsx("div",{className:"mx-auto px-4 pt-16 pb-24 sm:px-6 lg:px-8",children:e.jsx("div",{className:"lg:grid lg:grid-cols-1 lg:gap-x-12 xl:gap-x-16",children:e.jsx("div",{children:e.jsxs("div",{className:"mt-2 pt-1 pb-5",children:[e.jsxs("div",{className:"sticky top-0 z-10 bg-gray-50 pt-5 pb-5 px-5 py-5 border-b border-gray-300",children:[e.jsx("h2",{className:"text-lg font-medium text-cyan-600",children:"Booking Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:gap-4",children:[e.jsx(I,{primaryColor:"teal",value:i,onChange:s=>f({...i,startDate:D(s.startDate).format("LL"),endDate:D(s.endDate).format("LL")}),minDate:u,separator:"to",displayFormat:"MM/DD/YYYY",popoverDirection:"down",showShortcuts:!1,useRange:!1,className:"w-full sm:w-1/2 overflow-y-auto"}),e.jsx(T,{setPerson:p,person:m})]}),e.jsx("button",{onClick:$,className:"w-full px-6 py-2 bg-teal-600 text-white font-semibold rounded-lg hover:bg-teal-700 transition",children:"Search"})]}),e.jsx("div",{className:"flex justify-end items-end self-end",children:e.jsx(q,{})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-4 sm:grid-cols-2 sm:gap-x-6 sm:gap-y-10 lg:grid-cols-5 lg:gap-x-8 mt-6 p-3",children:[r.map((s,a)=>{var t;return e.jsxs("div",{className:"group relative flex flex-col overflow-hidden rounded-lg border border-gray-300 bg-white shadow-lg",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{alt:s.name,src:((t=s.uploads[y[a]])==null?void 0:t.file)??"/",className:"aspect-[3/4] w-full bg-gray-200 object-cover sm:aspect-auto sm:h-96"}),e.jsx("button",{className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-300 p-2 rounded-full shadow-md hover:bg-gray-200 opacity-80",onClick:()=>F(a),children:e.jsx(k,{className:"h-6 w-6 text-gray-600"})}),e.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-300 p-2 rounded-full shadow-md hover:bg-gray-200 opacity-80",onClick:()=>E(a),children:e.jsx(C,{className:"h-6 w-6 text-gray-600"})})]}),e.jsxs("div",{className:"flex flex-1 flex-col space-y-2 p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:e.jsx("a",{href:s.href,children:s.name})}),e.jsx("p",{className:"text-sm italic font-bold text-gray-500",children:s.options}),e.jsx("p",{className:"text-sm text-gray-500 text-justify",children:s.description}),e.jsx("div",{className:"flex flex-1 flex-col justify-end",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-base font-medium text-cyan-800",children:s.price}),e.jsx("button",{onClick:()=>b(s),className:"ml-4 bg-orange-500 text-white hover:bg-orange-600 px-2 py-1 rounded-md",children:"Add to Booking"})]})})]})]},s.room_id)}),n.map((s,a)=>{var t;return e.jsxs("div",{className:"group relative flex flex-col overflow-hidden rounded-lg border border-gray-300 bg-white shadow-lg",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{alt:s.name,src:((t=s.uploads[y[a]])==null?void 0:t.file)??"/",className:"aspect-[3/4] w-full bg-gray-200 object-cover sm:aspect-auto sm:h-96"}),e.jsx("button",{className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-300 p-2 rounded-full shadow-md hover:bg-gray-200 opacity-80",onClick:()=>L(a),children:e.jsx(k,{className:"h-6 w-6 text-gray-600"})}),e.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-300 p-2 rounded-full shadow-md hover:bg-gray-200 opacity-80",onClick:()=>M(a),children:e.jsx(C,{className:"h-6 w-6 text-gray-600"})})]}),e.jsxs("div",{className:"flex flex-1 flex-col space-y-2 p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:e.jsx("a",{href:s.href,children:s.name})}),e.jsx("p",{className:"text-sm italic font-bold text-gray-500",children:s.options}),e.jsx("p",{className:"text-sm text-gray-500 text-justify",children:s.description}),e.jsx("div",{className:"flex flex-1 flex-col justify-end",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-base font-medium text-cyan-800",children:s.price}),e.jsx("button",{onClick:()=>b(s),className:"ml-4 bg-orange-500 text-white hover:bg-orange-600 px-2 py-1 rounded-md",children:"Add to Booking"})]})})]})]},s.cottage_id)})]})]})})})})})}export{ae as default};
>>>>>>>> 008900b14f184cff3cd193f093bf271de5e532bd:public/build/assets/book-first-form-section-Uz7jjxzD.js
