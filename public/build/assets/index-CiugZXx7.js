import{R as Qr,r as f,f as hi,e as gi}from"./app-CfaEy3RZ.js";import{a1 as mi,x as hn,y as gn,z as Rt,A as Vt,a2 as mn,a3 as Jn,N as yn,f as k,a4 as Ur,b as ue,_ as Wt,a5 as yi,Y as Fn,O as Cn,a as j,S as We,a6 as En,a7 as pi,l as bi,Q as hr,g as _,a8 as he,a9 as Qn,aa as Zr,ab as et,ac as wi,ad as Zn,ae as Fi,d as w,af as q,$ as zt,a0 as Le,ag as Dt,ah as ft,ai as Ye,aj as Pn,e as br,s as Ci,k as Ei,c as Ct,w as Yn,ak as Pi,al as Mi,am as Yr,an as Xr}from"./asyncToGenerator-BIDPZxVI.js";function gr(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=[];return Qr.Children.forEach(n,function(i){i==null&&!t.keepEmpty||(Array.isArray(i)?e=e.concat(gr(i)):mi(i)&&i.props?e=e.concat(gr(i.props.children,t)):e.push(i))}),e}var en=f.createContext(null);function Ri(n){var t=n.children,e=n.onBatchResize,i=f.useRef(0),r=f.useRef([]),a=f.useContext(en),o=f.useCallback(function(s,u,c){i.current+=1;var l=i.current;r.current.push({size:s,element:u,data:c}),Promise.resolve().then(function(){l===i.current&&(e==null||e(r.current),r.current=[])}),a==null||a(s,u,c)},[e,a]);return f.createElement(en.Provider,{value:o},t)}var Xn=function(){if(typeof Map<"u")return Map;function n(t,e){var i=-1;return t.some(function(r,a){return r[0]===e?(i=a,!0):!1}),i}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(e){var i=n(this.__entries__,e),r=this.__entries__[i];return r&&r[1]},t.prototype.set=function(e,i){var r=n(this.__entries__,e);~r?this.__entries__[r][1]=i:this.__entries__.push([e,i])},t.prototype.delete=function(e){var i=this.__entries__,r=n(i,e);~r&&i.splice(r,1)},t.prototype.has=function(e){return!!~n(this.__entries__,e)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,i){i===void 0&&(i=null);for(var r=0,a=this.__entries__;r<a.length;r++){var o=a[r];e.call(i,o[1],o[0])}},t}()}(),tn=typeof window<"u"&&typeof document<"u"&&window.document===document,mr=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Vi=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(mr):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),Si=2;function ki(n,t){var e=!1,i=!1,r=0;function a(){e&&(e=!1,n()),i&&s()}function o(){Vi(a)}function s(){var u=Date.now();if(e){if(u-r<Si)return;i=!0}else e=!0,i=!1,setTimeout(o,t);r=u}return s}var xi=20,$i=["top","right","bottom","left","width","height","size","weight"],Oi=typeof MutationObserver<"u",Ni=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=ki(this.refresh.bind(this),xi)}return n.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},n.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},n.prototype.updateObservers_=function(){var t=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return t.forEach(function(e){return e.broadcastActive()}),t.length>0},n.prototype.connect_=function(){!tn||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Oi?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!tn||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(t){var e=t.propertyName,i=e===void 0?"":e,r=$i.some(function(a){return!!~i.indexOf(a)});r&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),ei=function(n,t){for(var e=0,i=Object.keys(t);e<i.length;e++){var r=i[e];Object.defineProperty(n,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return n},Pt=function(n){var t=n&&n.ownerDocument&&n.ownerDocument.defaultView;return t||mr},ti=wr(0,0,0,0);function yr(n){return parseFloat(n)||0}function Mn(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.reduce(function(i,r){var a=n["border-"+r+"-width"];return i+yr(a)},0)}function _i(n){for(var t=["top","right","bottom","left"],e={},i=0,r=t;i<r.length;i++){var a=r[i],o=n["padding-"+a];e[a]=yr(o)}return e}function Ti(n){var t=n.getBBox();return wr(0,0,t.width,t.height)}function Ai(n){var t=n.clientWidth,e=n.clientHeight;if(!t&&!e)return ti;var i=Pt(n).getComputedStyle(n),r=_i(i),a=r.left+r.right,o=r.top+r.bottom,s=yr(i.width),u=yr(i.height);if(i.boxSizing==="border-box"&&(Math.round(s+a)!==t&&(s-=Mn(i,"left","right")+a),Math.round(u+o)!==e&&(u-=Mn(i,"top","bottom")+o)),!Di(n)){var c=Math.round(s+a)-t,l=Math.round(u+o)-e;Math.abs(c)!==1&&(s-=c),Math.abs(l)!==1&&(u-=l)}return wr(r.left,r.top,s,u)}var Li=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Pt(n).SVGGraphicsElement}:function(n){return n instanceof Pt(n).SVGElement&&typeof n.getBBox=="function"}}();function Di(n){return n===Pt(n).document.documentElement}function Ii(n){return tn?Li(n)?Ti(n):Ai(n):ti}function qi(n){var t=n.x,e=n.y,i=n.width,r=n.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return ei(o,{x:t,y:e,width:i,height:r,top:e,right:t+i,bottom:r+e,left:t}),o}function wr(n,t,e,i){return{x:n,y:t,width:e,height:i}}var ji=function(){function n(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=wr(0,0,0,0),this.target=t}return n.prototype.isActive=function(){var t=Ii(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},n}(),Wi=function(){function n(t,e){var i=qi(e);ei(this,{target:t,contentRect:i})}return n}(),zi=function(){function n(t,e,i){if(this.activeObservations_=[],this.observations_=new Xn,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}return n.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Pt(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new ji(t)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Pt(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(i){return new Wi(i.target,i.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),ri=typeof WeakMap<"u"?new WeakMap:new Xn,ni=function(){function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=Ni.getInstance(),i=new zi(t,e,this);ri.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){ni.prototype[n]=function(){var t;return(t=ri.get(this))[n].apply(t,arguments)}});var Hi=function(){return typeof mr.ResizeObserver<"u"?mr.ResizeObserver:ni}(),Xe=new Map;function Ui(n){n.forEach(function(t){var e,i=t.target;(e=Xe.get(i))===null||e===void 0||e.forEach(function(r){return r(i)})})}var ii=new Hi(Ui);function Bi(n,t){Xe.has(n)||(Xe.set(n,new Set),ii.observe(n)),Xe.get(n).add(t)}function Gi(n,t){Xe.has(n)&&(Xe.get(n).delete(t),Xe.get(n).size||(ii.unobserve(n),Xe.delete(n)))}var Ki=function(n){hn(e,n);var t=gn(e);function e(){return Rt(this,e),t.apply(this,arguments)}return Vt(e,[{key:"render",value:function(){return this.props.children}}]),e}(f.Component);function Ji(n,t){var e=n.children,i=n.disabled,r=f.useRef(null),a=f.useRef(null),o=f.useContext(en),s=typeof e=="function",u=s?e(r):e,c=f.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!s&&f.isValidElement(u)&&mn(u),v=l?Jn(u):null,g=yn(v,r),b=function(){var p;return Ur(r.current)||(r.current&&ue(r.current)==="object"?Ur((p=r.current)===null||p===void 0?void 0:p.nativeElement):null)||Ur(a.current)};f.useImperativeHandle(t,function(){return b()});var h=f.useRef(n);h.current=n;var y=f.useCallback(function(d){var p=h.current,m=p.onResize,F=p.data,P=d.getBoundingClientRect(),E=P.width,C=P.height,V=d.offsetWidth,x=d.offsetHeight,M=Math.floor(E),S=Math.floor(C);if(c.current.width!==M||c.current.height!==S||c.current.offsetWidth!==V||c.current.offsetHeight!==x){var $={width:M,height:S,offsetWidth:V,offsetHeight:x};c.current=$;var D=V===Math.round(E)?E:V,T=x===Math.round(C)?C:x,N=k(k({},$),{},{offsetWidth:D,offsetHeight:T});o==null||o(N,d,F),m&&Promise.resolve().then(function(){m(N,d)})}},[]);return f.useEffect(function(){var d=b();return d&&!i&&Bi(d,y),function(){return Gi(d,y)}},[r.current,i]),f.createElement(Ki,{ref:a},l?f.cloneElement(u,{ref:g}):u)}var Qi=f.forwardRef(Ji),Zi="rc-observer-key";function Yi(n,t){var e=n.children,i=typeof e=="function"?[e]:gr(e);return i.map(function(r,a){var o=(r==null?void 0:r.key)||"".concat(Zi,"-").concat(a);return f.createElement(Qi,Wt({},n,{key:o,ref:a===0?t:void 0}),r)})}var pn=f.forwardRef(Yi);pn.Collection=Ri;const Vo=(n,t)=>{const e=f.useContext(yi),i=f.useMemo(()=>{var a;const o=t||Fn[n],s=(a=e==null?void 0:e[n])!==null&&a!==void 0?a:{};return Object.assign(Object.assign({},typeof o=="function"?o():o),s||{})},[n,t,e]),r=f.useMemo(()=>{const a=e==null?void 0:e.locale;return e!=null&&e.exist&&!a?Fn.locale:a},[e]);return[i,r]};function Br(n){return n!==void 0}function Xi(n,t){var e=t||{},i=e.defaultValue,r=e.value,a=e.onChange,o=e.postState,s=Cn(function(){return Br(r)?r:Br(i)?typeof i=="function"?i():i:typeof n=="function"?n():n}),u=j(s,2),c=u[0],l=u[1],v=r!==void 0?r:c,g=o?o(v):v,b=We(a),h=Cn([v]),y=j(h,2),d=y[0],p=y[1];En(function(){var F=d[0];c!==F&&b(c,F)},[d]),En(function(){Br(r)||l(r)},[r]);var m=We(function(F,P){l(F,P),p([v],P)});return[g,m]}const So=(n,t,e)=>e!==void 0?e:`${n}-${t}`;function ko(n,t){var e=Object.assign({},n);return Array.isArray(t)&&t.forEach(function(i){delete e[i]}),e}const ea=function(n){if(!n)return!1;if(n instanceof Element){if(n.offsetParent)return!0;if(n.getBBox){var t=n.getBBox(),e=t.width,i=t.height;if(e||i)return!0}if(n.getBoundingClientRect){var r=n.getBoundingClientRect(),a=r.width,o=r.height;if(a||o)return!0}}return!1},xo=n=>{const t=Qr.useContext(pi);return Qr.useMemo(()=>n?typeof n=="string"?n??t:n instanceof Function?n(t):t:t,[n,t])},ai=f.createContext(null),$o=(n,t)=>{const e=f.useContext(ai),i=f.useMemo(()=>{if(!e)return"";const{compactDirection:r,isFirstItem:a,isLastItem:o}=e,s=r==="vertical"?"-vertical-":"-";return bi(`${n}-compact${s}item`,{[`${n}-compact${s}first-item`]:a,[`${n}-compact${s}last-item`]:o,[`${n}-compact${s}item-rtl`]:t==="rtl"})},[n,t,e]);return{compactSize:e==null?void 0:e.compactSize,compactDirection:e==null?void 0:e.compactDirection,compactItemClassnames:i}},Oo=n=>{const{children:t}=n;return f.createElement(ai.Provider,{value:null},t)},ta=n=>({animationDuration:n,animationFillMode:"both"}),ra=n=>({animationDuration:n,animationFillMode:"both"}),No=function(n,t,e,i){const a=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${a}${n}-enter,
      ${a}${n}-appear
    `]:Object.assign(Object.assign({},ta(i)),{animationPlayState:"paused"}),[`${a}${n}-leave`]:Object.assign(Object.assign({},ra(i)),{animationPlayState:"paused"}),[`
      ${a}${n}-enter${n}-enter-active,
      ${a}${n}-appear${n}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${a}${n}-leave${n}-leave-active`]:{animationName:e,animationPlayState:"running",pointerEvents:"none"}}};function na(n,t,e){const{focusElCls:i,focus:r,borderElCls:a}=e,o=a?"> *":"",s=["hover",r?"focus":null,"active"].filter(Boolean).map(u=>`&:${u} ${o}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[s]:{zIndex:2}},i?{[`&${i}`]:{zIndex:2}}:{}),{[`&[disabled] ${o}`]:{zIndex:0}})}}function ia(n,t,e){const{borderElCls:i}=e,r=i?`> ${i}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${r}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${r}, &${n}-sm ${r}, &${n}-lg ${r}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${r}, &${n}-sm ${r}, &${n}-lg ${r}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function _o(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:e}=n,i=`${e}-compact`;return{[i]:Object.assign(Object.assign({},na(n,i,t)),ia(e,i,t))}}var oi=f.createContext(null),Rn=[];function aa(n,t){var e=f.useState(function(){if(!hr())return null;var h=document.createElement("div");return h}),i=j(e,1),r=i[0],a=f.useRef(!1),o=f.useContext(oi),s=f.useState(Rn),u=j(s,2),c=u[0],l=u[1],v=o||(a.current?void 0:function(h){l(function(y){var d=[h].concat(_(y));return d})});function g(){r.parentElement||document.body.appendChild(r),a.current=!0}function b(){var h;(h=r.parentElement)===null||h===void 0||h.removeChild(r),a.current=!1}return he(function(){return n?o?o(g):g():b(),b},[n]),he(function(){c.length&&(c.forEach(function(h){return h()}),l(Rn))},[c]),[r,v]}function oa(n){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),e=document.createElement("div");e.id=t;var i=e.style;i.position="absolute",i.left="0",i.top="0",i.width="100px",i.height="100px",i.overflow="scroll";var r,a;if(n){var o=getComputedStyle(n);i.scrollbarColor=o.scrollbarColor,i.scrollbarWidth=o.scrollbarWidth;var s=getComputedStyle(n,"::-webkit-scrollbar"),u=parseInt(s.width,10),c=parseInt(s.height,10);try{var l=u?"width: ".concat(s.width,";"):"",v=c?"height: ".concat(s.height,";"):"";Qn(`
#`.concat(t,`::-webkit-scrollbar {
`).concat(l,`
`).concat(v,`
}`),t)}catch(h){console.error(h),r=u,a=c}}document.body.appendChild(e);var g=n&&r&&!isNaN(r)?r:e.offsetWidth-e.clientWidth,b=n&&a&&!isNaN(a)?a:e.offsetHeight-e.clientHeight;return document.body.removeChild(e),Zr(t),{width:g,height:b}}function sa(n){return typeof document>"u"||!n||!(n instanceof Element)?{width:0,height:0}:oa(n)}function ua(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var la="rc-util-locker-".concat(Date.now()),Vn=0;function ca(n){var t=!!n,e=f.useState(function(){return Vn+=1,"".concat(la,"_").concat(Vn)}),i=j(e,1),r=i[0];he(function(){if(t){var a=sa(document.body).width,o=ua();Qn(`
html body {
  overflow-y: hidden;
  `.concat(o?"width: calc(100% - ".concat(a,"px);"):"",`
}`),r)}else Zr(r);return function(){Zr(r)}},[t,r])}var fa=!1;function da(n){return fa}var Sn=function(t){return t===!1?!1:!hr()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},si=f.forwardRef(function(n,t){var e=n.open,i=n.autoLock,r=n.getContainer;n.debug;var a=n.autoDestroy,o=a===void 0?!0:a,s=n.children,u=f.useState(e),c=j(u,2),l=c[0],v=c[1],g=l||e;f.useEffect(function(){(o||e)&&v(e)},[e,o]);var b=f.useState(function(){return Sn(r)}),h=j(b,2),y=h[0],d=h[1];f.useEffect(function(){var $=Sn(r);d($??null)});var p=aa(g&&!y),m=j(p,2),F=m[0],P=m[1],E=y??F;ca(i&&e&&hr()&&(E===F||E===document.body));var C=null;if(s&&mn(s)&&t){var V=s;C=V.ref}var x=yn(C,t);if(!g||!hr()||y===void 0)return null;var M=E===!1||da(),S=s;return t&&(S=f.cloneElement(s,{ref:x})),f.createElement(oi.Provider,{value:P},M?S:hi.createPortal(S,E))});function va(){var n=k({},gi);return n.useId}var kn=0,xn=va();const ha=xn?function(t){var e=xn();return t||e}:function(t){var e=f.useState("ssr-id"),i=j(e,2),r=i[0],a=i[1];return f.useEffect(function(){var o=kn;kn+=1,a("rc_unique_".concat(o))},[]),t||r};var dt="RC_FORM_INTERNAL_HOOKS",z=function(){et(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Mt=f.createContext({getFieldValue:z,getFieldsValue:z,getFieldError:z,getFieldWarning:z,getFieldsError:z,isFieldsTouched:z,isFieldTouched:z,isFieldValidating:z,isFieldsValidating:z,resetFields:z,setFields:z,setFieldValue:z,setFieldsValue:z,validateFields:z,submit:z,getInternalHooks:function(){return z(),{dispatch:z,initEntityValue:z,registerField:z,useSubscribe:z,setInitialValues:z,destroyForm:z,setCallbacks:z,registerWatch:z,getFields:z,setValidateMessages:z,setPreserve:z,getInitialValue:z}}}),pr=f.createContext(null);function rn(n){return n==null?[]:Array.isArray(n)?n:[n]}function ga(n){return n&&!!n._init}function nn(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var an=nn();function ma(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function ya(n,t,e){if(wi())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var r=new(n.bind.apply(n,i));return e&&Zn(r,e.prototype),r}function on(n){var t=typeof Map=="function"?new Map:void 0;return on=function(i){if(i===null||!ma(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(i))return t.get(i);t.set(i,r)}function r(){return ya(i,arguments,Fi(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Zn(r,i)},on(n)}var pa=/%[sdj%]/g,ba=function(){};function sn(n){if(!n||!n.length)return null;var t={};return n.forEach(function(e){var i=e.field;t[i]=t[i]||[],t[i].push(e)}),t}function ge(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];var r=0,a=e.length;if(typeof n=="function")return n.apply(null,e);if(typeof n=="string"){var o=n.replace(pa,function(s){if(s==="%%")return"%";if(r>=a)return s;switch(s){case"%s":return String(e[r++]);case"%d":return Number(e[r++]);case"%j":try{return JSON.stringify(e[r++])}catch{return"[Circular]"}break;default:return s}});return o}return n}function wa(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function re(n,t){return!!(n==null||t==="array"&&Array.isArray(n)&&!n.length||wa(t)&&typeof n=="string"&&!n)}function Fa(n,t,e){var i=[],r=0,a=n.length;function o(s){i.push.apply(i,_(s||[])),r++,r===a&&e(i)}n.forEach(function(s){t(s,o)})}function $n(n,t,e){var i=0,r=n.length;function a(o){if(o&&o.length){e(o);return}var s=i;i=i+1,s<r?t(n[s],a):e([])}a([])}function Ca(n){var t=[];return Object.keys(n).forEach(function(e){t.push.apply(t,_(n[e]||[]))}),t}var On=function(n){hn(e,n);var t=gn(e);function e(i,r){var a;return Rt(this,e),a=t.call(this,"Async Validation Error"),w(q(a),"errors",void 0),w(q(a),"fields",void 0),a.errors=i,a.fields=r,a}return Vt(e)}(on(Error));function Ea(n,t,e,i,r){if(t.first){var a=new Promise(function(g,b){var h=function(p){return i(p),p.length?b(new On(p,sn(p))):g(r)},y=Ca(n);$n(y,e,h)});return a.catch(function(g){return g}),a}var o=t.firstFields===!0?Object.keys(n):t.firstFields||[],s=Object.keys(n),u=s.length,c=0,l=[],v=new Promise(function(g,b){var h=function(d){if(l.push.apply(l,d),c++,c===u)return i(l),l.length?b(new On(l,sn(l))):g(r)};s.length||(i(l),g(r)),s.forEach(function(y){var d=n[y];o.indexOf(y)!==-1?$n(d,e,h):Fa(d,e,h)})});return v.catch(function(g){return g}),v}function Pa(n){return!!(n&&n.message!==void 0)}function Ma(n,t){for(var e=n,i=0;i<t.length;i++){if(e==null)return e;e=e[t[i]]}return e}function Nn(n,t){return function(e){var i;return n.fullFields?i=Ma(t,n.fullFields):i=t[e.field||n.fullField],Pa(e)?(e.field=e.field||n.fullField,e.fieldValue=i,e):{message:typeof e=="function"?e():e,fieldValue:i,field:e.field||n.fullField}}}function _n(n,t){if(t){for(var e in t)if(t.hasOwnProperty(e)){var i=t[e];ue(i)==="object"&&ue(n[e])==="object"?n[e]=k(k({},n[e]),i):n[e]=i}}return n}var bt="enum",Ra=function(t,e,i,r,a){t[bt]=Array.isArray(t[bt])?t[bt]:[],t[bt].indexOf(e)===-1&&r.push(ge(a.messages[bt],t.fullField,t[bt].join(", ")))},Va=function(t,e,i,r,a){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(e)||r.push(ge(a.messages.pattern.mismatch,t.fullField,e,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(e)||r.push(ge(a.messages.pattern.mismatch,t.fullField,e,t.pattern))}}},Sa=function(t,e,i,r,a){var o=typeof t.len=="number",s=typeof t.min=="number",u=typeof t.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=e,v=null,g=typeof e=="number",b=typeof e=="string",h=Array.isArray(e);if(g?v="number":b?v="string":h&&(v="array"),!v)return!1;h&&(l=e.length),b&&(l=e.replace(c,"_").length),o?l!==t.len&&r.push(ge(a.messages[v].len,t.fullField,t.len)):s&&!u&&l<t.min?r.push(ge(a.messages[v].min,t.fullField,t.min)):u&&!s&&l>t.max?r.push(ge(a.messages[v].max,t.fullField,t.max)):s&&u&&(l<t.min||l>t.max)&&r.push(ge(a.messages[v].range,t.fullField,t.min,t.max))},ui=function(t,e,i,r,a,o){t.required&&(!i.hasOwnProperty(t.field)||re(e,o||t.type))&&r.push(ge(a.messages.required,t.fullField))},vr;const ka=function(){if(vr)return vr;var n="[a-fA-F\\d:]",t=function(C){return C&&C.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(n,")|(?<=").concat(n,")(?=\\s|$))"):""},e="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",r=["(?:".concat(i,":){7}(?:").concat(i,"|:)"),"(?:".concat(i,":){6}(?:").concat(e,"|:").concat(i,"|:)"),"(?:".concat(i,":){5}(?::").concat(e,"|(?::").concat(i,"){1,2}|:)"),"(?:".concat(i,":){4}(?:(?::").concat(i,"){0,1}:").concat(e,"|(?::").concat(i,"){1,3}|:)"),"(?:".concat(i,":){3}(?:(?::").concat(i,"){0,2}:").concat(e,"|(?::").concat(i,"){1,4}|:)"),"(?:".concat(i,":){2}(?:(?::").concat(i,"){0,3}:").concat(e,"|(?::").concat(i,"){1,5}|:)"),"(?:".concat(i,":){1}(?:(?::").concat(i,"){0,4}:").concat(e,"|(?::").concat(i,"){1,6}|:)"),"(?::(?:(?::".concat(i,"){0,5}:").concat(e,"|(?::").concat(i,"){1,7}|:))")],a="(?:%[0-9a-zA-Z]{1,})?",o="(?:".concat(r.join("|"),")").concat(a),s=new RegExp("(?:^".concat(e,"$)|(?:^").concat(o,"$)")),u=new RegExp("^".concat(e,"$")),c=new RegExp("^".concat(o,"$")),l=function(C){return C&&C.exact?s:new RegExp("(?:".concat(t(C)).concat(e).concat(t(C),")|(?:").concat(t(C)).concat(o).concat(t(C),")"),"g")};l.v4=function(E){return E&&E.exact?u:new RegExp("".concat(t(E)).concat(e).concat(t(E)),"g")},l.v6=function(E){return E&&E.exact?c:new RegExp("".concat(t(E)).concat(o).concat(t(E)),"g")};var v="(?:(?:[a-z]+:)?//)",g="(?:\\S+(?::\\S*)?@)?",b=l.v4().source,h=l.v6().source,y="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",d="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",p="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",m="(?::\\d{2,5})?",F='(?:[/?#][^\\s"]*)?',P="(?:".concat(v,"|www\\.)").concat(g,"(?:localhost|").concat(b,"|").concat(h,"|").concat(y).concat(d).concat(p,")").concat(m).concat(F);return vr=new RegExp("(?:^".concat(P,"$)"),"i"),vr};var Tn={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},It={integer:function(t){return It.number(t)&&parseInt(t,10)===t},float:function(t){return It.number(t)&&!It.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return ue(t)==="object"&&!It.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(Tn.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(ka())},hex:function(t){return typeof t=="string"&&!!t.match(Tn.hex)}},xa=function(t,e,i,r,a){if(t.required&&e===void 0){ui(t,e,i,r,a);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=t.type;o.indexOf(s)>-1?It[s](e)||r.push(ge(a.messages.types[s],t.fullField,t.type)):s&&ue(e)!==t.type&&r.push(ge(a.messages.types[s],t.fullField,t.type))},$a=function(t,e,i,r,a){(/^\s+$/.test(e)||e==="")&&r.push(ge(a.messages.whitespace,t.fullField))};const L={required:ui,whitespace:$a,type:xa,range:Sa,enum:Ra,pattern:Va};var Oa=function(t,e,i,r,a){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(re(e)&&!t.required)return i();L.required(t,e,r,o,a)}i(o)},Na=function(t,e,i,r,a){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(e==null&&!t.required)return i();L.required(t,e,r,o,a,"array"),e!=null&&(L.type(t,e,r,o,a),L.range(t,e,r,o,a))}i(o)},_a=function(t,e,i,r,a){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(re(e)&&!t.required)return i();L.required(t,e,r,o,a),e!==void 0&&L.type(t,e,r,o,a)}i(o)},Ta=function(t,e,i,r,a){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(re(e,"date")&&!t.required)return i();if(L.required(t,e,r,o,a),!re(e,"date")){var u;e instanceof Date?u=e:u=new Date(e),L.type(t,u,r,o,a),u&&L.range(t,u.getTime(),r,o,a)}}i(o)},Aa="enum",La=function(t,e,i,r,a){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(re(e)&&!t.required)return i();L.required(t,e,r,o,a),e!==void 0&&L[Aa](t,e,r,o,a)}i(o)},Da=function(t,e,i,r,a){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(re(e)&&!t.required)return i();L.required(t,e,r,o,a),e!==void 0&&(L.type(t,e,r,o,a),L.range(t,e,r,o,a))}i(o)},Ia=function(t,e,i,r,a){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(re(e)&&!t.required)return i();L.required(t,e,r,o,a),e!==void 0&&(L.type(t,e,r,o,a),L.range(t,e,r,o,a))}i(o)},qa=function(t,e,i,r,a){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(re(e)&&!t.required)return i();L.required(t,e,r,o,a),e!==void 0&&L.type(t,e,r,o,a)}i(o)},ja=function(t,e,i,r,a){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(e===""&&(e=void 0),re(e)&&!t.required)return i();L.required(t,e,r,o,a),e!==void 0&&(L.type(t,e,r,o,a),L.range(t,e,r,o,a))}i(o)},Wa=function(t,e,i,r,a){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(re(e)&&!t.required)return i();L.required(t,e,r,o,a),e!==void 0&&L.type(t,e,r,o,a)}i(o)},za=function(t,e,i,r,a){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(re(e,"string")&&!t.required)return i();L.required(t,e,r,o,a),re(e,"string")||L.pattern(t,e,r,o,a)}i(o)},Ha=function(t,e,i,r,a){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(re(e)&&!t.required)return i();L.required(t,e,r,o,a),re(e)||L.type(t,e,r,o,a)}i(o)},Ua=function(t,e,i,r,a){var o=[],s=Array.isArray(e)?"array":ue(e);L.required(t,e,r,o,a,s),i(o)},Ba=function(t,e,i,r,a){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(re(e,"string")&&!t.required)return i();L.required(t,e,r,o,a,"string"),re(e,"string")||(L.type(t,e,r,o,a),L.range(t,e,r,o,a),L.pattern(t,e,r,o,a),t.whitespace===!0&&L.whitespace(t,e,r,o,a))}i(o)},Gr=function(t,e,i,r,a){var o=t.type,s=[],u=t.required||!t.required&&r.hasOwnProperty(t.field);if(u){if(re(e,o)&&!t.required)return i();L.required(t,e,r,s,a,o),re(e,o)||L.type(t,e,r,s,a)}i(s)};const qt={string:Ba,method:qa,number:ja,boolean:_a,regexp:Ha,integer:Ia,float:Da,array:Na,object:Wa,enum:La,pattern:za,date:Ta,url:Gr,hex:Gr,email:Gr,required:Ua,any:Oa};var Ht=function(){function n(t){Rt(this,n),w(this,"rules",null),w(this,"_messages",an),this.define(t)}return Vt(n,[{key:"define",value:function(e){var i=this;if(!e)throw new Error("Cannot configure a schema with no rules");if(ue(e)!=="object"||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach(function(r){var a=e[r];i.rules[r]=Array.isArray(a)?a:[a]})}},{key:"messages",value:function(e){return e&&(this._messages=_n(nn(),e)),this._messages}},{key:"validate",value:function(e){var i=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=e,s=r,u=a;if(typeof s=="function"&&(u=s,s={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,o),Promise.resolve(o);function c(h){var y=[],d={};function p(F){if(Array.isArray(F)){var P;y=(P=y).concat.apply(P,_(F))}else y.push(F)}for(var m=0;m<h.length;m++)p(h[m]);y.length?(d=sn(y),u(y,d)):u(null,o)}if(s.messages){var l=this.messages();l===an&&(l=nn()),_n(l,s.messages),s.messages=l}else s.messages=this.messages();var v={},g=s.keys||Object.keys(this.rules);g.forEach(function(h){var y=i.rules[h],d=o[h];y.forEach(function(p){var m=p;typeof m.transform=="function"&&(o===e&&(o=k({},o)),d=o[h]=m.transform(d),d!=null&&(m.type=m.type||(Array.isArray(d)?"array":ue(d)))),typeof m=="function"?m={validator:m}:m=k({},m),m.validator=i.getValidationMethod(m),m.validator&&(m.field=h,m.fullField=m.fullField||h,m.type=i.getType(m),v[h]=v[h]||[],v[h].push({rule:m,value:d,source:o,field:h}))})});var b={};return Ea(v,s,function(h,y){var d=h.rule,p=(d.type==="object"||d.type==="array")&&(ue(d.fields)==="object"||ue(d.defaultField)==="object");p=p&&(d.required||!d.required&&h.value),d.field=h.field;function m(V,x){return k(k({},x),{},{fullField:"".concat(d.fullField,".").concat(V),fullFields:d.fullFields?[].concat(_(d.fullFields),[V]):[V]})}function F(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],x=Array.isArray(V)?V:[V];!s.suppressWarning&&x.length&&n.warning("async-validator:",x),x.length&&d.message!==void 0&&(x=[].concat(d.message));var M=x.map(Nn(d,o));if(s.first&&M.length)return b[d.field]=1,y(M);if(!p)y(M);else{if(d.required&&!h.value)return d.message!==void 0?M=[].concat(d.message).map(Nn(d,o)):s.error&&(M=[s.error(d,ge(s.messages.required,d.field))]),y(M);var S={};d.defaultField&&Object.keys(h.value).map(function(T){S[T]=d.defaultField}),S=k(k({},S),h.rule.fields);var $={};Object.keys(S).forEach(function(T){var N=S[T],J=Array.isArray(N)?N:[N];$[T]=J.map(m.bind(null,T))});var D=new n($);D.messages(s.messages),h.rule.options&&(h.rule.options.messages=s.messages,h.rule.options.error=s.error),D.validate(h.value,h.rule.options||s,function(T){var N=[];M&&M.length&&N.push.apply(N,_(M)),T&&T.length&&N.push.apply(N,_(T)),y(N.length?N:null)})}}var P;if(d.asyncValidator)P=d.asyncValidator(d,h.value,F,h.source,s);else if(d.validator){try{P=d.validator(d,h.value,F,h.source,s)}catch(V){var E,C;(E=(C=console).error)===null||E===void 0||E.call(C,V),s.suppressValidatorError||setTimeout(function(){throw V},0),F(V.message)}P===!0?F():P===!1?F(typeof d.message=="function"?d.message(d.fullField||d.field):d.message||"".concat(d.fullField||d.field," fails")):P instanceof Array?F(P):P instanceof Error&&F(P.message)}P&&P.then&&P.then(function(){return F()},function(V){return F(V)})},function(h){c(h)},o)}},{key:"getType",value:function(e){if(e.type===void 0&&e.pattern instanceof RegExp&&(e.type="pattern"),typeof e.validator!="function"&&e.type&&!qt.hasOwnProperty(e.type))throw new Error(ge("Unknown rule type %s",e.type));return e.type||"string"}},{key:"getValidationMethod",value:function(e){if(typeof e.validator=="function")return e.validator;var i=Object.keys(e),r=i.indexOf("message");return r!==-1&&i.splice(r,1),i.length===1&&i[0]==="required"?qt.required:qt[this.getType(e)]||void 0}}]),n}();w(Ht,"register",function(t,e){if(typeof e!="function")throw new Error("Cannot register a validator by type, validator is not a function");qt[t]=e});w(Ht,"warning",ba);w(Ht,"messages",an);w(Ht,"validators",qt);var ve="'${name}' is not a valid ${type}",li={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:ve,method:ve,array:ve,object:ve,number:ve,date:ve,boolean:ve,integer:ve,float:ve,regexp:ve,email:ve,url:ve,hex:ve},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},An=Ht;function Ga(n,t){return n.replace(/\\?\$\{\w+\}/g,function(e){if(e.startsWith("\\"))return e.slice(1);var i=e.slice(2,-1);return t[i]})}var Ln="CODE_LOGIC_ERROR";function un(n,t,e,i,r){return ln.apply(this,arguments)}function ln(){return ln=zt(Le().mark(function n(t,e,i,r,a){var o,s,u,c,l,v,g,b,h;return Le().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o=k({},i),delete o.ruleIndex,An.warning=function(){},o.validator&&(s=o.validator,o.validator=function(){try{return s.apply(void 0,arguments)}catch(p){return console.error(p),Promise.reject(Ln)}}),u=null,o&&o.type==="array"&&o.defaultField&&(u=o.defaultField,delete o.defaultField),c=new An(w({},t,[o])),l=Dt(li,r.validateMessages),c.messages(l),v=[],d.prev=10,d.next=13,Promise.resolve(c.validate(w({},t,e),k({},r)));case 13:d.next=18;break;case 15:d.prev=15,d.t0=d.catch(10),d.t0.errors&&(v=d.t0.errors.map(function(p,m){var F=p.message,P=F===Ln?l.default:F;return f.isValidElement(P)?f.cloneElement(P,{key:"error_".concat(m)}):P}));case 18:if(!(!v.length&&u)){d.next=23;break}return d.next=21,Promise.all(e.map(function(p,m){return un("".concat(t,".").concat(m),p,u,r,a)}));case 21:return g=d.sent,d.abrupt("return",g.reduce(function(p,m){return[].concat(_(p),_(m))},[]));case 23:return b=k(k({},i),{},{name:t,enum:(i.enum||[]).join(", ")},a),h=v.map(function(p){return typeof p=="string"?Ga(p,b):p}),d.abrupt("return",h);case 26:case"end":return d.stop()}},n,null,[[10,15]])})),ln.apply(this,arguments)}function Ka(n,t,e,i,r,a){var o=n.join("."),s=e.map(function(l,v){var g=l.validator,b=k(k({},l),{},{ruleIndex:v});return g&&(b.validator=function(h,y,d){var p=!1,m=function(){for(var E=arguments.length,C=new Array(E),V=0;V<E;V++)C[V]=arguments[V];Promise.resolve().then(function(){et(!p,"Your validator function has already return a promise. `callback` will be ignored."),p||d.apply(void 0,C)})},F=g(h,y,m);p=F&&typeof F.then=="function"&&typeof F.catch=="function",et(p,"`callback` is deprecated. Please return a promise instead."),p&&F.then(function(){d()}).catch(function(P){d(P||" ")})}),b}).sort(function(l,v){var g=l.warningOnly,b=l.ruleIndex,h=v.warningOnly,y=v.ruleIndex;return!!g==!!h?b-y:g?1:-1}),u;if(r===!0)u=new Promise(function(){var l=zt(Le().mark(function v(g,b){var h,y,d;return Le().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:h=0;case 1:if(!(h<s.length)){m.next=12;break}return y=s[h],m.next=5,un(o,t,y,i,a);case 5:if(d=m.sent,!d.length){m.next=9;break}return b([{errors:d,rule:y}]),m.abrupt("return");case 9:h+=1,m.next=1;break;case 12:g([]);case 13:case"end":return m.stop()}},v)}));return function(v,g){return l.apply(this,arguments)}}());else{var c=s.map(function(l){return un(o,t,l,i,a).then(function(v){return{errors:v,rule:l}})});u=(r?Qa(c):Ja(c)).then(function(l){return Promise.reject(l)})}return u.catch(function(l){return l}),u}function Ja(n){return cn.apply(this,arguments)}function cn(){return cn=zt(Le().mark(function n(t){return Le().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(t).then(function(r){var a,o=(a=[]).concat.apply(a,_(r));return o}));case 1:case"end":return i.stop()}},n)})),cn.apply(this,arguments)}function Qa(n){return fn.apply(this,arguments)}function fn(){return fn=zt(Le().mark(function n(t){var e;return Le().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=0,r.abrupt("return",new Promise(function(a){t.forEach(function(o){o.then(function(s){s.errors.length&&a([s]),e+=1,e===t.length&&a([])})})}));case 2:case"end":return r.stop()}},n)})),fn.apply(this,arguments)}function Y(n){return rn(n)}function Dn(n,t){var e={};return t.forEach(function(i){var r=ft(n,i);e=Ye(e,i,r)}),e}function Et(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return n&&n.some(function(i){return ci(t,i,e)})}function ci(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!n||!t||!e&&n.length!==t.length?!1:t.every(function(i,r){return n[r]===i})}function Za(n,t){if(n===t)return!0;if(!n&&t||n&&!t||!n||!t||ue(n)!=="object"||ue(t)!=="object")return!1;var e=Object.keys(n),i=Object.keys(t),r=new Set([].concat(e,i));return _(r).every(function(a){var o=n[a],s=t[a];return typeof o=="function"&&typeof s=="function"?!0:o===s})}function Ya(n){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&ue(t.target)==="object"&&n in t.target?t.target[n]:t}function In(n,t,e){var i=n.length;if(t<0||t>=i||e<0||e>=i)return n;var r=n[t],a=t-e;return a>0?[].concat(_(n.slice(0,e)),[r],_(n.slice(e,t)),_(n.slice(t+1,i))):a<0?[].concat(_(n.slice(0,t)),_(n.slice(t+1,e+1)),[r],_(n.slice(e+1,i))):n}var Xa=["name"],Ce=[];function Kr(n,t,e,i,r,a){return typeof n=="function"?n(t,e,"source"in a?{source:a.source}:{}):i!==r}var bn=function(n){hn(e,n);var t=gn(e);function e(i){var r;if(Rt(this,e),r=t.call(this,i),w(q(r),"state",{resetCount:0}),w(q(r),"cancelRegisterFunc",null),w(q(r),"mounted",!1),w(q(r),"touched",!1),w(q(r),"dirty",!1),w(q(r),"validatePromise",void 0),w(q(r),"prevValidating",void 0),w(q(r),"errors",Ce),w(q(r),"warnings",Ce),w(q(r),"cancelRegister",function(){var u=r.props,c=u.preserve,l=u.isListField,v=u.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(l,c,Y(v)),r.cancelRegisterFunc=null}),w(q(r),"getNamePath",function(){var u=r.props,c=u.name,l=u.fieldContext,v=l.prefixName,g=v===void 0?[]:v;return c!==void 0?[].concat(_(g),_(c)):[]}),w(q(r),"getRules",function(){var u=r.props,c=u.rules,l=c===void 0?[]:c,v=u.fieldContext;return l.map(function(g){return typeof g=="function"?g(v):g})}),w(q(r),"refresh",function(){r.mounted&&r.setState(function(u){var c=u.resetCount;return{resetCount:c+1}})}),w(q(r),"metaCache",null),w(q(r),"triggerMetaEvent",function(u){var c=r.props.onMetaChange;if(c){var l=k(k({},r.getMeta()),{},{destroy:u});Pn(r.metaCache,l)||c(l),r.metaCache=l}else r.metaCache=null}),w(q(r),"onStoreChange",function(u,c,l){var v=r.props,g=v.shouldUpdate,b=v.dependencies,h=b===void 0?[]:b,y=v.onReset,d=l.store,p=r.getNamePath(),m=r.getValue(u),F=r.getValue(d),P=c&&Et(c,p);switch(l.type==="valueUpdate"&&l.source==="external"&&!Pn(m,F)&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=Ce,r.warnings=Ce,r.triggerMetaEvent()),l.type){case"reset":if(!c||P){r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=Ce,r.warnings=Ce,r.triggerMetaEvent(),y==null||y(),r.refresh();return}break;case"remove":{if(g&&Kr(g,u,d,m,F,l)){r.reRender();return}break}case"setField":{var E=l.data;if(P){"touched"in E&&(r.touched=E.touched),"validating"in E&&!("originRCField"in E)&&(r.validatePromise=E.validating?Promise.resolve([]):null),"errors"in E&&(r.errors=E.errors||Ce),"warnings"in E&&(r.warnings=E.warnings||Ce),r.dirty=!0,r.triggerMetaEvent(),r.reRender();return}else if("value"in E&&Et(c,p,!0)){r.reRender();return}if(g&&!p.length&&Kr(g,u,d,m,F,l)){r.reRender();return}break}case"dependenciesUpdate":{var C=h.map(Y);if(C.some(function(V){return Et(l.relatedFields,V)})){r.reRender();return}break}default:if(P||(!h.length||p.length||g)&&Kr(g,u,d,m,F,l)){r.reRender();return}break}g===!0&&r.reRender()}),w(q(r),"validateRules",function(u){var c=r.getNamePath(),l=r.getValue(),v=u||{},g=v.triggerName,b=v.validateOnly,h=b===void 0?!1:b,y=Promise.resolve().then(zt(Le().mark(function d(){var p,m,F,P,E,C,V;return Le().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(r.mounted){M.next=2;break}return M.abrupt("return",[]);case 2:if(p=r.props,m=p.validateFirst,F=m===void 0?!1:m,P=p.messageVariables,E=p.validateDebounce,C=r.getRules(),g&&(C=C.filter(function(S){return S}).filter(function(S){var $=S.validateTrigger;if(!$)return!0;var D=rn($);return D.includes(g)})),!(E&&g)){M.next=10;break}return M.next=8,new Promise(function(S){setTimeout(S,E)});case 8:if(r.validatePromise===y){M.next=10;break}return M.abrupt("return",[]);case 10:return V=Ka(c,l,C,u,F,P),V.catch(function(S){return S}).then(function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ce;if(r.validatePromise===y){var $;r.validatePromise=null;var D=[],T=[];($=S.forEach)===null||$===void 0||$.call(S,function(N){var J=N.rule.warningOnly,W=N.errors,Q=W===void 0?Ce:W;J?T.push.apply(T,_(Q)):D.push.apply(D,_(Q))}),r.errors=D,r.warnings=T,r.triggerMetaEvent(),r.reRender()}}),M.abrupt("return",V);case 13:case"end":return M.stop()}},d)})));return h||(r.validatePromise=y,r.dirty=!0,r.errors=Ce,r.warnings=Ce,r.triggerMetaEvent(),r.reRender()),y}),w(q(r),"isFieldValidating",function(){return!!r.validatePromise}),w(q(r),"isFieldTouched",function(){return r.touched}),w(q(r),"isFieldDirty",function(){if(r.dirty||r.props.initialValue!==void 0)return!0;var u=r.props.fieldContext,c=u.getInternalHooks(dt),l=c.getInitialValue;return l(r.getNamePath())!==void 0}),w(q(r),"getErrors",function(){return r.errors}),w(q(r),"getWarnings",function(){return r.warnings}),w(q(r),"isListField",function(){return r.props.isListField}),w(q(r),"isList",function(){return r.props.isList}),w(q(r),"isPreserve",function(){return r.props.preserve}),w(q(r),"getMeta",function(){r.prevValidating=r.isFieldValidating();var u={touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:r.validatePromise===null};return u}),w(q(r),"getOnlyChild",function(u){if(typeof u=="function"){var c=r.getMeta();return k(k({},r.getOnlyChild(u(r.getControlled(),c,r.props.fieldContext))),{},{isFunction:!0})}var l=gr(u);return l.length!==1||!f.isValidElement(l[0])?{child:l,isFunction:!1}:{child:l[0],isFunction:!1}}),w(q(r),"getValue",function(u){var c=r.props.fieldContext.getFieldsValue,l=r.getNamePath();return ft(u||c(!0),l)}),w(q(r),"getControlled",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=r.props,l=c.name,v=c.trigger,g=c.validateTrigger,b=c.getValueFromEvent,h=c.normalize,y=c.valuePropName,d=c.getValueProps,p=c.fieldContext,m=g!==void 0?g:p.validateTrigger,F=r.getNamePath(),P=p.getInternalHooks,E=p.getFieldsValue,C=P(dt),V=C.dispatch,x=r.getValue(),M=d||function(N){return w({},y,N)},S=u[v],$=l!==void 0?M(x):{},D=k(k({},u),$);D[v]=function(){r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var N,J=arguments.length,W=new Array(J),Q=0;Q<J;Q++)W[Q]=arguments[Q];b?N=b.apply(void 0,W):N=Ya.apply(void 0,[y].concat(W)),h&&(N=h(N,x,E(!0))),N!==x&&V({type:"updateValue",namePath:F,value:N}),S&&S.apply(void 0,W)};var T=rn(m||[]);return T.forEach(function(N){var J=D[N];D[N]=function(){J&&J.apply(void 0,arguments);var W=r.props.rules;W&&W.length&&V({type:"validateField",namePath:F,triggerName:N})}}),D}),i.fieldContext){var a=i.fieldContext.getInternalHooks,o=a(dt),s=o.initEntityValue;s(q(r))}return r}return Vt(e,[{key:"componentDidMount",value:function(){var r=this.props,a=r.shouldUpdate,o=r.fieldContext;if(this.mounted=!0,o){var s=o.getInternalHooks,u=s(dt),c=u.registerField;this.cancelRegisterFunc=c(this)}a===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var r=this.state.resetCount,a=this.props.children,o=this.getOnlyChild(a),s=o.child,u=o.isFunction,c;return u?c=s:f.isValidElement(s)?c=f.cloneElement(s,this.getControlled(s.props)):(et(!s,"`children` of Field is not validate ReactElement."),c=s),f.createElement(f.Fragment,{key:r},c)}}]),e}(f.Component);w(bn,"contextType",Mt);w(bn,"defaultProps",{trigger:"onChange",valuePropName:"value"});function fi(n){var t,e=n.name,i=br(n,Xa),r=f.useContext(Mt),a=f.useContext(pr),o=e!==void 0?Y(e):void 0,s=(t=i.isListField)!==null&&t!==void 0?t:!!a,u="keep";return s||(u="_".concat((o||[]).join("_"))),f.createElement(bn,Wt({key:u,name:o,isListField:s},i,{fieldContext:r}))}function eo(n){var t=n.name,e=n.initialValue,i=n.children,r=n.rules,a=n.validateTrigger,o=n.isListField,s=f.useContext(Mt),u=f.useContext(pr),c=f.useRef({keys:[],id:0}),l=c.current,v=f.useMemo(function(){var y=Y(s.prefixName)||[];return[].concat(_(y),_(Y(t)))},[s.prefixName,t]),g=f.useMemo(function(){return k(k({},s),{},{prefixName:v})},[s,v]),b=f.useMemo(function(){return{getKey:function(d){var p=v.length,m=d[p];return[l.keys[m],d.slice(p+1)]}}},[v]);if(typeof i!="function")return et(!1,"Form.List only accepts function as children."),null;var h=function(d,p,m){var F=m.source;return F==="internal"?!1:d!==p};return f.createElement(pr.Provider,{value:b},f.createElement(Mt.Provider,{value:g},f.createElement(fi,{name:[],shouldUpdate:h,rules:r,validateTrigger:a,initialValue:e,isList:!0,isListField:o??!!u},function(y,d){var p=y.value,m=p===void 0?[]:p,F=y.onChange,P=s.getFieldValue,E=function(){var M=P(v||[]);return M||[]},C={add:function(M,S){var $=E();S>=0&&S<=$.length?(l.keys=[].concat(_(l.keys.slice(0,S)),[l.id],_(l.keys.slice(S))),F([].concat(_($.slice(0,S)),[M],_($.slice(S))))):(l.keys=[].concat(_(l.keys),[l.id]),F([].concat(_($),[M]))),l.id+=1},remove:function(M){var S=E(),$=new Set(Array.isArray(M)?M:[M]);$.size<=0||(l.keys=l.keys.filter(function(D,T){return!$.has(T)}),F(S.filter(function(D,T){return!$.has(T)})))},move:function(M,S){if(M!==S){var $=E();M<0||M>=$.length||S<0||S>=$.length||(l.keys=In(l.keys,M,S),F(In($,M,S)))}}},V=m||[];return Array.isArray(V)||(V=[]),i(V.map(function(x,M){var S=l.keys[M];return S===void 0&&(l.keys[M]=l.id,S=l.keys[M],l.id+=1),{name:M,key:S,isListField:!0}}),C,d)})))}function to(n){var t=!1,e=n.length,i=[];return n.length?new Promise(function(r,a){n.forEach(function(o,s){o.catch(function(u){return t=!0,u}).then(function(u){e-=1,i[s]=u,!(e>0)&&(t&&a(i),r(i))})})}):Promise.resolve([])}var di="__@field_split__";function Jr(n){return n.map(function(t){return"".concat(ue(t),":").concat(t)}).join(di)}var wt=function(){function n(){Rt(this,n),w(this,"kvs",new Map)}return Vt(n,[{key:"set",value:function(e,i){this.kvs.set(Jr(e),i)}},{key:"get",value:function(e){return this.kvs.get(Jr(e))}},{key:"update",value:function(e,i){var r=this.get(e),a=i(r);a?this.set(e,a):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Jr(e))}},{key:"map",value:function(e){return _(this.kvs.entries()).map(function(i){var r=j(i,2),a=r[0],o=r[1],s=a.split(di);return e({key:s.map(function(u){var c=u.match(/^([^:]*):(.*)$/),l=j(c,3),v=l[1],g=l[2];return v==="number"?Number(g):g}),value:o})})}},{key:"toJSON",value:function(){var e={};return this.map(function(i){var r=i.key,a=i.value;return e[r.join(".")]=a,null}),e}}]),n}(),ro=["name"],no=Vt(function n(t){var e=this;Rt(this,n),w(this,"formHooked",!1),w(this,"forceRootUpdate",void 0),w(this,"subscribable",!0),w(this,"store",{}),w(this,"fieldEntities",[]),w(this,"initialValues",{}),w(this,"callbacks",{}),w(this,"validateMessages",null),w(this,"preserve",null),w(this,"lastValidatePromise",null),w(this,"getForm",function(){return{getFieldValue:e.getFieldValue,getFieldsValue:e.getFieldsValue,getFieldError:e.getFieldError,getFieldWarning:e.getFieldWarning,getFieldsError:e.getFieldsError,isFieldsTouched:e.isFieldsTouched,isFieldTouched:e.isFieldTouched,isFieldValidating:e.isFieldValidating,isFieldsValidating:e.isFieldsValidating,resetFields:e.resetFields,setFields:e.setFields,setFieldValue:e.setFieldValue,setFieldsValue:e.setFieldsValue,validateFields:e.validateFields,submit:e.submit,_init:!0,getInternalHooks:e.getInternalHooks}}),w(this,"getInternalHooks",function(i){return i===dt?(e.formHooked=!0,{dispatch:e.dispatch,initEntityValue:e.initEntityValue,registerField:e.registerField,useSubscribe:e.useSubscribe,setInitialValues:e.setInitialValues,destroyForm:e.destroyForm,setCallbacks:e.setCallbacks,setValidateMessages:e.setValidateMessages,getFields:e.getFields,setPreserve:e.setPreserve,getInitialValue:e.getInitialValue,registerWatch:e.registerWatch}):(et(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),w(this,"useSubscribe",function(i){e.subscribable=i}),w(this,"prevWithoutPreserves",null),w(this,"setInitialValues",function(i,r){if(e.initialValues=i||{},r){var a,o=Dt(i,e.store);(a=e.prevWithoutPreserves)===null||a===void 0||a.map(function(s){var u=s.key;o=Ye(o,u,ft(i,u))}),e.prevWithoutPreserves=null,e.updateStore(o)}}),w(this,"destroyForm",function(i){if(i)e.updateStore({});else{var r=new wt;e.getFieldEntities(!0).forEach(function(a){e.isMergedPreserve(a.isPreserve())||r.set(a.getNamePath(),!0)}),e.prevWithoutPreserves=r}}),w(this,"getInitialValue",function(i){var r=ft(e.initialValues,i);return i.length?Dt(r):r}),w(this,"setCallbacks",function(i){e.callbacks=i}),w(this,"setValidateMessages",function(i){e.validateMessages=i}),w(this,"setPreserve",function(i){e.preserve=i}),w(this,"watchList",[]),w(this,"registerWatch",function(i){return e.watchList.push(i),function(){e.watchList=e.watchList.filter(function(r){return r!==i})}}),w(this,"notifyWatch",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(e.watchList.length){var r=e.getFieldsValue(),a=e.getFieldsValue(!0);e.watchList.forEach(function(o){o(r,a,i)})}}),w(this,"timeoutId",null),w(this,"warningUnhooked",function(){}),w(this,"updateStore",function(i){e.store=i}),w(this,"getFieldEntities",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return i?e.fieldEntities.filter(function(r){return r.getNamePath().length}):e.fieldEntities}),w(this,"getFieldsMap",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=new wt;return e.getFieldEntities(i).forEach(function(a){var o=a.getNamePath();r.set(o,a)}),r}),w(this,"getFieldEntitiesForNamePathList",function(i){if(!i)return e.getFieldEntities(!0);var r=e.getFieldsMap(!0);return i.map(function(a){var o=Y(a);return r.get(o)||{INVALIDATE_NAME_PATH:Y(a)}})}),w(this,"getFieldsValue",function(i,r){e.warningUnhooked();var a,o,s;if(i===!0||Array.isArray(i)?(a=i,o=r):i&&ue(i)==="object"&&(s=i.strict,o=i.filter),a===!0&&!o)return e.store;var u=e.getFieldEntitiesForNamePathList(Array.isArray(a)?a:null),c=[];return u.forEach(function(l){var v,g,b="INVALIDATE_NAME_PATH"in l?l.INVALIDATE_NAME_PATH:l.getNamePath();if(s){var h,y;if((h=(y=l).isList)!==null&&h!==void 0&&h.call(y))return}else if(!a&&(v=(g=l).isListField)!==null&&v!==void 0&&v.call(g))return;if(!o)c.push(b);else{var d="getMeta"in l?l.getMeta():null;o(d)&&c.push(b)}}),Dn(e.store,c.map(Y))}),w(this,"getFieldValue",function(i){e.warningUnhooked();var r=Y(i);return ft(e.store,r)}),w(this,"getFieldsError",function(i){e.warningUnhooked();var r=e.getFieldEntitiesForNamePathList(i);return r.map(function(a,o){return a&&!("INVALIDATE_NAME_PATH"in a)?{name:a.getNamePath(),errors:a.getErrors(),warnings:a.getWarnings()}:{name:Y(i[o]),errors:[],warnings:[]}})}),w(this,"getFieldError",function(i){e.warningUnhooked();var r=Y(i),a=e.getFieldsError([r])[0];return a.errors}),w(this,"getFieldWarning",function(i){e.warningUnhooked();var r=Y(i),a=e.getFieldsError([r])[0];return a.warnings}),w(this,"isFieldsTouched",function(){e.warningUnhooked();for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var o=r[0],s=r[1],u,c=!1;r.length===0?u=null:r.length===1?Array.isArray(o)?(u=o.map(Y),c=!1):(u=null,c=o):(u=o.map(Y),c=s);var l=e.getFieldEntities(!0),v=function(d){return d.isFieldTouched()};if(!u)return c?l.every(function(y){return v(y)||y.isList()}):l.some(v);var g=new wt;u.forEach(function(y){g.set(y,[])}),l.forEach(function(y){var d=y.getNamePath();u.forEach(function(p){p.every(function(m,F){return d[F]===m})&&g.update(p,function(m){return[].concat(_(m),[y])})})});var b=function(d){return d.some(v)},h=g.map(function(y){var d=y.value;return d});return c?h.every(b):h.some(b)}),w(this,"isFieldTouched",function(i){return e.warningUnhooked(),e.isFieldsTouched([i])}),w(this,"isFieldsValidating",function(i){e.warningUnhooked();var r=e.getFieldEntities();if(!i)return r.some(function(o){return o.isFieldValidating()});var a=i.map(Y);return r.some(function(o){var s=o.getNamePath();return Et(a,s)&&o.isFieldValidating()})}),w(this,"isFieldValidating",function(i){return e.warningUnhooked(),e.isFieldsValidating([i])}),w(this,"resetWithFieldInitialValue",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=new wt,a=e.getFieldEntities(!0);a.forEach(function(u){var c=u.props.initialValue,l=u.getNamePath();if(c!==void 0){var v=r.get(l)||new Set;v.add({entity:u,value:c}),r.set(l,v)}});var o=function(c){c.forEach(function(l){var v=l.props.initialValue;if(v!==void 0){var g=l.getNamePath(),b=e.getInitialValue(g);if(b!==void 0)et(!1,"Form already set 'initialValues' with path '".concat(g.join("."),"'. Field can not overwrite it."));else{var h=r.get(g);if(h&&h.size>1)et(!1,"Multiple Field with path '".concat(g.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(h){var y=e.getFieldValue(g),d=l.isListField();!d&&(!i.skipExist||y===void 0)&&e.updateStore(Ye(e.store,g,_(h)[0].value))}}}})},s;i.entities?s=i.entities:i.namePathList?(s=[],i.namePathList.forEach(function(u){var c=r.get(u);if(c){var l;(l=s).push.apply(l,_(_(c).map(function(v){return v.entity})))}})):s=a,o(s)}),w(this,"resetFields",function(i){e.warningUnhooked();var r=e.store;if(!i){e.updateStore(Dt(e.initialValues)),e.resetWithFieldInitialValue(),e.notifyObservers(r,null,{type:"reset"}),e.notifyWatch();return}var a=i.map(Y);a.forEach(function(o){var s=e.getInitialValue(o);e.updateStore(Ye(e.store,o,s))}),e.resetWithFieldInitialValue({namePathList:a}),e.notifyObservers(r,a,{type:"reset"}),e.notifyWatch(a)}),w(this,"setFields",function(i){e.warningUnhooked();var r=e.store,a=[];i.forEach(function(o){var s=o.name,u=br(o,ro),c=Y(s);a.push(c),"value"in u&&e.updateStore(Ye(e.store,c,u.value)),e.notifyObservers(r,[c],{type:"setField",data:o})}),e.notifyWatch(a)}),w(this,"getFields",function(){var i=e.getFieldEntities(!0),r=i.map(function(a){var o=a.getNamePath(),s=a.getMeta(),u=k(k({},s),{},{name:o,value:e.getFieldValue(o)});return Object.defineProperty(u,"originRCField",{value:!0}),u});return r}),w(this,"initEntityValue",function(i){var r=i.props.initialValue;if(r!==void 0){var a=i.getNamePath(),o=ft(e.store,a);o===void 0&&e.updateStore(Ye(e.store,a,r))}}),w(this,"isMergedPreserve",function(i){var r=i!==void 0?i:e.preserve;return r??!0}),w(this,"registerField",function(i){e.fieldEntities.push(i);var r=i.getNamePath();if(e.notifyWatch([r]),i.props.initialValue!==void 0){var a=e.store;e.resetWithFieldInitialValue({entities:[i],skipExist:!0}),e.notifyObservers(a,[i.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(o,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(e.fieldEntities=e.fieldEntities.filter(function(v){return v!==i}),!e.isMergedPreserve(s)&&(!o||u.length>1)){var c=o?void 0:e.getInitialValue(r);if(r.length&&e.getFieldValue(r)!==c&&e.fieldEntities.every(function(v){return!ci(v.getNamePath(),r)})){var l=e.store;e.updateStore(Ye(l,r,c,!0)),e.notifyObservers(l,[r],{type:"remove"}),e.triggerDependenciesUpdate(l,r)}}e.notifyWatch([r])}}),w(this,"dispatch",function(i){switch(i.type){case"updateValue":{var r=i.namePath,a=i.value;e.updateValue(r,a);break}case"validateField":{var o=i.namePath,s=i.triggerName;e.validateFields([o],{triggerName:s});break}}}),w(this,"notifyObservers",function(i,r,a){if(e.subscribable){var o=k(k({},a),{},{store:e.getFieldsValue(!0)});e.getFieldEntities().forEach(function(s){var u=s.onStoreChange;u(i,r,o)})}else e.forceRootUpdate()}),w(this,"triggerDependenciesUpdate",function(i,r){var a=e.getDependencyChildrenFields(r);return a.length&&e.validateFields(a),e.notifyObservers(i,a,{type:"dependenciesUpdate",relatedFields:[r].concat(_(a))}),a}),w(this,"updateValue",function(i,r){var a=Y(i),o=e.store;e.updateStore(Ye(e.store,a,r)),e.notifyObservers(o,[a],{type:"valueUpdate",source:"internal"}),e.notifyWatch([a]);var s=e.triggerDependenciesUpdate(o,a),u=e.callbacks.onValuesChange;if(u){var c=Dn(e.store,[a]);u(c,e.getFieldsValue())}e.triggerOnFieldsChange([a].concat(_(s)))}),w(this,"setFieldsValue",function(i){e.warningUnhooked();var r=e.store;if(i){var a=Dt(e.store,i);e.updateStore(a)}e.notifyObservers(r,null,{type:"valueUpdate",source:"external"}),e.notifyWatch()}),w(this,"setFieldValue",function(i,r){e.setFields([{name:i,value:r,errors:[],warnings:[]}])}),w(this,"getDependencyChildrenFields",function(i){var r=new Set,a=[],o=new wt;e.getFieldEntities().forEach(function(u){var c=u.props.dependencies;(c||[]).forEach(function(l){var v=Y(l);o.update(v,function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return g.add(u),g})})});var s=function u(c){var l=o.get(c)||new Set;l.forEach(function(v){if(!r.has(v)){r.add(v);var g=v.getNamePath();v.isFieldDirty()&&g.length&&(a.push(g),u(g))}})};return s(i),a}),w(this,"triggerOnFieldsChange",function(i,r){var a=e.callbacks.onFieldsChange;if(a){var o=e.getFields();if(r){var s=new wt;r.forEach(function(c){var l=c.name,v=c.errors;s.set(l,v)}),o.forEach(function(c){c.errors=s.get(c.name)||c.errors})}var u=o.filter(function(c){var l=c.name;return Et(i,l)});u.length&&a(u,o)}}),w(this,"validateFields",function(i,r){e.warningUnhooked();var a,o;Array.isArray(i)||typeof i=="string"||typeof r=="string"?(a=i,o=r):o=i;var s=!!a,u=s?a.map(Y):[],c=[],l=String(Date.now()),v=new Set,g=o||{},b=g.recursive,h=g.dirty;e.getFieldEntities(!0).forEach(function(m){if(s||u.push(m.getNamePath()),!(!m.props.rules||!m.props.rules.length)&&!(h&&!m.isFieldDirty())){var F=m.getNamePath();if(v.add(F.join(l)),!s||Et(u,F,b)){var P=m.validateRules(k({validateMessages:k(k({},li),e.validateMessages)},o));c.push(P.then(function(){return{name:F,errors:[],warnings:[]}}).catch(function(E){var C,V=[],x=[];return(C=E.forEach)===null||C===void 0||C.call(E,function(M){var S=M.rule.warningOnly,$=M.errors;S?x.push.apply(x,_($)):V.push.apply(V,_($))}),V.length?Promise.reject({name:F,errors:V,warnings:x}):{name:F,errors:V,warnings:x}}))}}});var y=to(c);e.lastValidatePromise=y,y.catch(function(m){return m}).then(function(m){var F=m.map(function(P){var E=P.name;return E});e.notifyObservers(e.store,F,{type:"validateFinish"}),e.triggerOnFieldsChange(F,m)});var d=y.then(function(){return e.lastValidatePromise===y?Promise.resolve(e.getFieldsValue(u)):Promise.reject([])}).catch(function(m){var F=m.filter(function(P){return P&&P.errors.length});return Promise.reject({values:e.getFieldsValue(u),errorFields:F,outOfDate:e.lastValidatePromise!==y})});d.catch(function(m){return m});var p=u.filter(function(m){return v.has(m.join(l))});return e.triggerOnFieldsChange(p),d}),w(this,"submit",function(){e.warningUnhooked(),e.validateFields().then(function(i){var r=e.callbacks.onFinish;if(r)try{r(i)}catch(a){console.error(a)}}).catch(function(i){var r=e.callbacks.onFinishFailed;r&&r(i)})}),this.forceRootUpdate=t});function vi(n){var t=f.useRef(),e=f.useState({}),i=j(e,2),r=i[1];if(!t.current)if(n)t.current=n;else{var a=function(){r({})},o=new no(a);t.current=o.getForm()}return[t.current]}var dn=f.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),io=function(t){var e=t.validateMessages,i=t.onFormChange,r=t.onFormFinish,a=t.children,o=f.useContext(dn),s=f.useRef({});return f.createElement(dn.Provider,{value:k(k({},o),{},{validateMessages:k(k({},o.validateMessages),e),triggerFormChange:function(c,l){i&&i(c,{changedFields:l,forms:s.current}),o.triggerFormChange(c,l)},triggerFormFinish:function(c,l){r&&r(c,{values:l,forms:s.current}),o.triggerFormFinish(c,l)},registerForm:function(c,l){c&&(s.current=k(k({},s.current),{},w({},c,l))),o.registerForm(c,l)},unregisterForm:function(c){var l=k({},s.current);delete l[c],s.current=l,o.unregisterForm(c)}})},a)},ao=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],oo=function(t,e){var i=t.name,r=t.initialValues,a=t.fields,o=t.form,s=t.preserve,u=t.children,c=t.component,l=c===void 0?"form":c,v=t.validateMessages,g=t.validateTrigger,b=g===void 0?"onChange":g,h=t.onValuesChange,y=t.onFieldsChange,d=t.onFinish,p=t.onFinishFailed,m=t.clearOnDestroy,F=br(t,ao),P=f.useRef(null),E=f.useContext(dn),C=vi(o),V=j(C,1),x=V[0],M=x.getInternalHooks(dt),S=M.useSubscribe,$=M.setInitialValues,D=M.setCallbacks,T=M.setValidateMessages,N=M.setPreserve,J=M.destroyForm;f.useImperativeHandle(e,function(){return k(k({},x),{},{nativeElement:P.current})}),f.useEffect(function(){return E.registerForm(i,x),function(){E.unregisterForm(i)}},[E,x,i]),T(k(k({},E.validateMessages),v)),D({onValuesChange:h,onFieldsChange:function(A){if(E.triggerFormChange(i,A),y){for(var Z=arguments.length,Se=new Array(Z>1?Z-1:0),ke=1;ke<Z;ke++)Se[ke-1]=arguments[ke];y.apply(void 0,[A].concat(Se))}},onFinish:function(A){E.triggerFormFinish(i,A),d&&d(A)},onFinishFailed:p}),N(s);var W=f.useRef(null);$(r,!W.current),W.current||(W.current=!0),f.useEffect(function(){return function(){return J(m)}},[]);var Q,ee=typeof u=="function";if(ee){var ne=x.getFieldsValue(!0);Q=u(ne,x)}else Q=u;S(!ee);var I=f.useRef();f.useEffect(function(){Za(I.current||[],a||[])||x.setFields(a||[]),I.current=a},[a,x]);var De=f.useMemo(function(){return k(k({},x),{},{validateTrigger:b})},[x,b]),le=f.createElement(pr.Provider,{value:null},f.createElement(Mt.Provider,{value:De},Q));return l===!1?le:f.createElement(l,Wt({},F,{ref:P,onSubmit:function(A){A.preventDefault(),A.stopPropagation(),x.submit()},onReset:function(A){var Z;A.preventDefault(),x.resetFields(),(Z=F.onReset)===null||Z===void 0||Z.call(F,A)}}),le)};function qn(n){try{return JSON.stringify(n)}catch{return Math.random()}}function so(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var i=t[0],r=t[1],a=r===void 0?{}:r,o=ga(a)?{form:a}:a,s=o.form,u=f.useState(),c=j(u,2),l=c[0],v=c[1],g=f.useMemo(function(){return qn(l)},[l]),b=f.useRef(g);b.current=g;var h=f.useContext(Mt),y=s||h,d=y&&y._init,p=Y(i),m=f.useRef(p);return m.current=p,f.useEffect(function(){if(d){var F=y.getFieldsValue,P=y.getInternalHooks,E=P(dt),C=E.registerWatch,V=function($,D){var T=o.preserve?D:$;return typeof i=="function"?i(T):ft(T,m.current)},x=C(function(S,$){var D=V(S,$),T=qn(D);b.current!==T&&(b.current=T,v(D))}),M=V(F(),F(!0));return l!==M&&v(M),x}},[d]),l}var uo=f.forwardRef(oo),Ut=uo;Ut.FormProvider=io;Ut.Field=fi;Ut.List=eo;Ut.useForm=vi;Ut.useWatch=so;const jn=f.createContext({}),To=n=>{let{children:t,status:e,override:i}=n;const r=f.useContext(jn),a=f.useMemo(()=>{const o=Object.assign({},r);return i&&delete o.isFormItemInput,e&&(delete o.status,delete o.hasFeedback,delete o.feedbackIcon),o},[e,i,r]);return f.createElement(jn.Provider,{value:a},t)},Ao=f.createContext(void 0);function lo(n){return t=>f.createElement(Ci,{theme:{token:{motion:!1,zIndexPopupBase:0}}},f.createElement(n,Object.assign({},t)))}const Lo=(n,t,e,i,r)=>lo(o=>{const{prefixCls:s,style:u}=o,c=f.useRef(null),[l,v]=f.useState(0),[g,b]=f.useState(0),[h,y]=Xi(!1,{value:o.open}),{getPrefixCls:d}=f.useContext(Ei),p=d("select",s);f.useEffect(()=>{if(y(!0),typeof ResizeObserver<"u"){const P=new ResizeObserver(C=>{const V=C[0].target;v(V.offsetHeight+8),b(V.offsetWidth)}),E=setInterval(()=>{var C;const V=`.${p}-dropdown`,x=(C=c.current)===null||C===void 0?void 0:C.querySelector(V);x&&(clearInterval(E),P.observe(x))},10);return()=>{clearInterval(E),P.disconnect()}}},[]);let m=Object.assign(Object.assign({},o),{style:Object.assign(Object.assign({},u),{margin:0}),open:h,visible:h,getPopupContainer:()=>c.current});Object.assign(m,{[t]:{overflow:{adjustX:!1,adjustY:!1}}});const F={paddingBottom:l,position:"relative",minWidth:g};return f.createElement("div",{ref:c,style:F},f.createElement(n,Object.assign({},m)))}),co=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var n=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n==null?void 0:n.substr(0,4))};function fo(n){var t=n.prefixCls,e=n.align,i=n.arrow,r=n.arrowPos,a=i||{},o=a.className,s=a.content,u=r.x,c=u===void 0?0:u,l=r.y,v=l===void 0?0:l,g=f.useRef();if(!e||!e.points)return null;var b={position:"absolute"};if(e.autoArrow!==!1){var h=e.points[0],y=e.points[1],d=h[0],p=h[1],m=y[0],F=y[1];d===m||!["t","b"].includes(d)?b.top=v:d==="t"?b.top=0:b.bottom=0,p===F||!["l","r"].includes(p)?b.left=c:p==="l"?b.left=0:b.right=0}return f.createElement("div",{ref:g,className:Ct("".concat(t,"-arrow"),o),style:b},s)}function vo(n){var t=n.prefixCls,e=n.open,i=n.zIndex,r=n.mask,a=n.motion;return r?f.createElement(Yn,Wt({},a,{motionAppear:!0,visible:e,removeOnLeave:!0}),function(o){var s=o.className;return f.createElement("div",{style:{zIndex:i},className:Ct("".concat(t,"-mask"),s)})}):null}var ho=f.memo(function(n){var t=n.children;return t},function(n,t){return t.cache}),go=f.forwardRef(function(n,t){var e=n.popup,i=n.className,r=n.prefixCls,a=n.style,o=n.target,s=n.onVisibleChanged,u=n.open,c=n.keepDom,l=n.fresh,v=n.onClick,g=n.mask,b=n.arrow,h=n.arrowPos,y=n.align,d=n.motion,p=n.maskMotion,m=n.forceRender,F=n.getPopupContainer,P=n.autoDestroy,E=n.portal,C=n.zIndex,V=n.onMouseEnter,x=n.onMouseLeave,M=n.onPointerEnter,S=n.onPointerDownCapture,$=n.ready,D=n.offsetX,T=n.offsetY,N=n.offsetR,J=n.offsetB,W=n.onAlign,Q=n.onPrepare,ee=n.stretch,ne=n.targetWidth,I=n.targetHeight,De=typeof e=="function"?e():e,le=u||c,X=(F==null?void 0:F.length)>0,A=f.useState(!F||!X),Z=j(A,2),Se=Z[0],ke=Z[1];if(he(function(){!Se&&X&&o&&ke(!0)},[Se,X,o]),!Se)return null;var xe="auto",fe={left:"-1000vw",top:"-1000vh",right:xe,bottom:xe};if($||!u){var ze,tt=y.points,me=y.dynamicInset||((ze=y._experimental)===null||ze===void 0?void 0:ze.dynamicInset),$e=me&&tt[0][1]==="r",Ee=me&&tt[0][0]==="b";$e?(fe.right=N,fe.left=xe):(fe.left=D,fe.right=xe),Ee?(fe.bottom=J,fe.top=xe):(fe.top=T,fe.bottom=xe)}var ce={};return ee&&(ee.includes("height")&&I?ce.height=I:ee.includes("minHeight")&&I&&(ce.minHeight=I),ee.includes("width")&&ne?ce.width=ne:ee.includes("minWidth")&&ne&&(ce.minWidth=ne)),u||(ce.pointerEvents="none"),f.createElement(E,{open:m||le,getContainer:F&&function(){return F(o)},autoDestroy:P},f.createElement(vo,{prefixCls:r,open:u,zIndex:C,mask:g,motion:p}),f.createElement(pn,{onResize:W,disabled:!u},function(St){return f.createElement(Yn,Wt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:m,leavedClassName:"".concat(r,"-hidden")},d,{onAppearPrepare:Q,onEnterPrepare:Q,visible:u,onVisibleChanged:function(ye){var Oe;d==null||(Oe=d.onVisibleChanged)===null||Oe===void 0||Oe.call(d,ye),s(ye)}}),function(He,ye){var Oe=He.className,rt=He.style,ae=Ct(r,Oe,i);return f.createElement("div",{ref:Pi(St,t,ye),className:ae,style:k(k(k(k({"--arrow-x":"".concat(h.x||0,"px"),"--arrow-y":"".concat(h.y||0,"px")},fe),ce),rt),{},{boxSizing:"border-box",zIndex:C},a),onMouseEnter:V,onMouseLeave:x,onPointerEnter:M,onClick:v,onPointerDownCapture:S},b&&f.createElement(fo,{prefixCls:r,arrow:b,arrowPos:h,align:y}),f.createElement(ho,{cache:!u&&!l},De))})}))}),mo=f.forwardRef(function(n,t){var e=n.children,i=n.getTriggerDOMNode,r=mn(e),a=f.useCallback(function(s){Mi(t,i?i(s):s)},[i]),o=yn(a,Jn(e));return r?f.cloneElement(e,{ref:o}):e}),Wn=f.createContext(null);function zn(n){return n?Array.isArray(n)?n:[n]:[]}function yo(n,t,e,i){return f.useMemo(function(){var r=zn(e??t),a=zn(i??t),o=new Set(r),s=new Set(a);return n&&(o.has("hover")&&(o.delete("hover"),o.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[o,s]},[n,t,e,i])}function po(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],e=arguments.length>2?arguments[2]:void 0;return e?n[0]===t[0]:n[0]===t[0]&&n[1]===t[1]}function bo(n,t,e,i){for(var r=e.points,a=Object.keys(n),o=0;o<a.length;o+=1){var s,u=a[o];if(po((s=n[u])===null||s===void 0?void 0:s.points,r,i))return"".concat(t,"-placement-").concat(u)}return""}function Hn(n,t,e,i){return t||(e?{motionName:"".concat(n,"-").concat(e)}:i?{motionName:i}:null)}function Bt(n){return n.ownerDocument.defaultView}function vn(n){for(var t=[],e=n==null?void 0:n.parentElement,i=["hidden","scroll","clip","auto"];e;){var r=Bt(e).getComputedStyle(e),a=r.overflowX,o=r.overflowY,s=r.overflow;[a,o,s].some(function(u){return i.includes(u)})&&t.push(e),e=e.parentElement}return t}function jt(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(n)?t:n}function Lt(n){return jt(parseFloat(n),0)}function Un(n,t){var e=k({},n);return(t||[]).forEach(function(i){if(!(i instanceof HTMLBodyElement||i instanceof HTMLHtmlElement)){var r=Bt(i).getComputedStyle(i),a=r.overflow,o=r.overflowClipMargin,s=r.borderTopWidth,u=r.borderBottomWidth,c=r.borderLeftWidth,l=r.borderRightWidth,v=i.getBoundingClientRect(),g=i.offsetHeight,b=i.clientHeight,h=i.offsetWidth,y=i.clientWidth,d=Lt(s),p=Lt(u),m=Lt(c),F=Lt(l),P=jt(Math.round(v.width/h*1e3)/1e3),E=jt(Math.round(v.height/g*1e3)/1e3),C=(h-y-m-F)*P,V=(g-b-d-p)*E,x=d*E,M=p*E,S=m*P,$=F*P,D=0,T=0;if(a==="clip"){var N=Lt(o);D=N*P,T=N*E}var J=v.x+S-D,W=v.y+x-T,Q=J+v.width+2*D-S-$-C,ee=W+v.height+2*T-x-M-V;e.left=Math.max(e.left,J),e.top=Math.max(e.top,W),e.right=Math.min(e.right,Q),e.bottom=Math.min(e.bottom,ee)}}),e}function Bn(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e="".concat(t),i=e.match(/^(.*)\%$/);return i?n*(parseFloat(i[1])/100):parseFloat(e)}function Gn(n,t){var e=t||[],i=j(e,2),r=i[0],a=i[1];return[Bn(n.width,r),Bn(n.height,a)]}function Kn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[n[0],n[1]]}function Ft(n,t){var e=t[0],i=t[1],r,a;return e==="t"?a=n.y:e==="b"?a=n.y+n.height:a=n.y+n.height/2,i==="l"?r=n.x:i==="r"?r=n.x+n.width:r=n.x+n.width/2,{x:r,y:a}}function Ze(n,t){var e={t:"b",b:"t",l:"r",r:"l"};return n.map(function(i,r){return r===t?e[i]||"c":i}).join("")}function wo(n,t,e,i,r,a,o){var s=f.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:r[i]||{}}),u=j(s,2),c=u[0],l=u[1],v=f.useRef(0),g=f.useMemo(function(){return t?vn(t):[]},[t]),b=f.useRef({}),h=function(){b.current={}};n||h();var y=We(function(){if(t&&e&&n){let Fe=function(pt,Je){var Qe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Gt,At=A.x+pt,cr=A.y+Je,jr=At+$e,Wr=cr+me,zr=Math.max(At,Qe.left),R=Math.max(cr,Qe.top),O=Math.min(jr,Qe.right),G=Math.min(Wr,Qe.bottom);return Math.max(0,(O-zr)*(G-R))},lr=function(){ot=A.y+B,st=ot+me,qe=A.x+H,ht=qe+$e};var m,F,P,E,C=t,V=C.ownerDocument,x=Bt(C),M=x.getComputedStyle(C),S=M.width,$=M.height,D=M.position,T=C.style.left,N=C.style.top,J=C.style.right,W=C.style.bottom,Q=C.style.overflow,ee=k(k({},r[i]),a),ne=V.createElement("div");(m=C.parentElement)===null||m===void 0||m.appendChild(ne),ne.style.left="".concat(C.offsetLeft,"px"),ne.style.top="".concat(C.offsetTop,"px"),ne.style.position=D,ne.style.height="".concat(C.offsetHeight,"px"),ne.style.width="".concat(C.offsetWidth,"px"),C.style.left="0",C.style.top="0",C.style.right="auto",C.style.bottom="auto",C.style.overflow="hidden";var I;if(Array.isArray(e))I={x:e[0],y:e[1],width:0,height:0};else{var De,le,X=e.getBoundingClientRect();X.x=(De=X.x)!==null&&De!==void 0?De:X.left,X.y=(le=X.y)!==null&&le!==void 0?le:X.top,I={x:X.x,y:X.y,width:X.width,height:X.height}}var A=C.getBoundingClientRect();A.x=(F=A.x)!==null&&F!==void 0?F:A.left,A.y=(P=A.y)!==null&&P!==void 0?P:A.top;var Z=V.documentElement,Se=Z.clientWidth,ke=Z.clientHeight,xe=Z.scrollWidth,fe=Z.scrollHeight,ze=Z.scrollTop,tt=Z.scrollLeft,me=A.height,$e=A.width,Ee=I.height,ce=I.width,St={left:0,top:0,right:Se,bottom:ke},He={left:-tt,top:-ze,right:xe-tt,bottom:fe-ze},ye=ee.htmlRegion,Oe="visible",rt="visibleFirst";ye!=="scroll"&&ye!==rt&&(ye=Oe);var ae=ye===rt,Fr=Un(He,g),U=Un(St,g),Gt=ye===Oe?U:Fr,nt=ae?U:Gt;C.style.left="auto",C.style.top="auto",C.style.right="0",C.style.bottom="0";var oe=C.getBoundingClientRect();C.style.left=T,C.style.top=N,C.style.right=J,C.style.bottom=W,C.style.overflow=Q,(E=C.parentElement)===null||E===void 0||E.removeChild(ne);var Ue=jt(Math.round($e/parseFloat(S)*1e3)/1e3),Ie=jt(Math.round(me/parseFloat($)*1e3)/1e3);if(Ue===0||Ie===0||Yr(e)&&!ea(e))return;var Cr=ee.offset,Er=ee.targetOffset,Kt=Gn(A,Cr),Pe=j(Kt,2),Me=Pe[0],pe=Pe[1],Pr=Gn(I,Er),it=j(Pr,2),be=it[0],Be=it[1];I.x-=be,I.y-=Be;var Mr=ee.points||[],Jt=j(Mr,2),Rr=Jt[0],Vr=Jt[1],Ne=Kn(Vr),de=Kn(Rr),kt=Ft(I,Ne),se=Ft(A,de),Ge=k({},ee),H=kt.x-se.x+Me,B=kt.y-se.y+pe,Re=Fe(H,B),at=Fe(H,B,U),xt=Ft(I,["t","l"]),we=Ft(A,["t","l"]),Qt=Ft(I,["b","r"]),$t=Ft(A,["b","r"]),Ke=ee.overflow||{},Zt=Ke.adjustX,Sr=Ke.adjustY,Ot=Ke.shiftX,vt=Ke.shiftY,Nt=function(Je){return typeof Je=="boolean"?Je:Je>=0},ot,st,qe,ht;lr();var ut=Nt(Sr),Yt=de[0]===Ne[0];if(ut&&de[0]==="t"&&(st>nt.bottom||b.current.bt)){var ie=B;Yt?ie-=me-Ee:ie=xt.y-$t.y-pe;var Xt=Fe(H,ie),kr=Fe(H,ie,U);Xt>Re||Xt===Re&&(!ae||kr>=at)?(b.current.bt=!0,B=ie,pe=-pe,Ge.points=[Ze(de,0),Ze(Ne,0)]):b.current.bt=!1}if(ut&&de[0]==="b"&&(ot<nt.top||b.current.tb)){var lt=B;Yt?lt+=me-Ee:lt=Qt.y-we.y-pe;var er=Fe(H,lt),xr=Fe(H,lt,U);er>Re||er===Re&&(!ae||xr>=at)?(b.current.tb=!0,B=lt,pe=-pe,Ge.points=[Ze(de,0),Ze(Ne,0)]):b.current.tb=!1}var tr=Nt(Zt),rr=de[1]===Ne[1];if(tr&&de[1]==="l"&&(ht>nt.right||b.current.rl)){var ct=H;rr?ct-=$e-ce:ct=xt.x-$t.x-Me;var nr=Fe(ct,B),gt=Fe(ct,B,U);nr>Re||nr===Re&&(!ae||gt>=at)?(b.current.rl=!0,H=ct,Me=-Me,Ge.points=[Ze(de,1),Ze(Ne,1)]):b.current.rl=!1}if(tr&&de[1]==="r"&&(qe<nt.left||b.current.lr)){var je=H;rr?je+=$e-ce:je=Qt.x-we.x-Me;var ir=Fe(je,B),ar=Fe(je,B,U);ir>Re||ir===Re&&(!ae||ar>=at)?(b.current.lr=!0,H=je,Me=-Me,Ge.points=[Ze(de,1),Ze(Ne,1)]):b.current.lr=!1}lr();var _e=Ot===!0?0:Ot;typeof _e=="number"&&(qe<U.left&&(H-=qe-U.left-Me,I.x+ce<U.left+_e&&(H+=I.x-U.left+ce-_e)),ht>U.right&&(H-=ht-U.right-Me,I.x>U.right-_e&&(H+=I.x-U.right+_e)));var Ve=vt===!0?0:vt;typeof Ve=="number"&&(ot<U.top&&(B-=ot-U.top-pe,I.y+Ee<U.top+Ve&&(B+=I.y-U.top+Ee-Ve)),st>U.bottom&&(B-=st-U.bottom-pe,I.y>U.bottom-Ve&&(B+=I.y-U.bottom+Ve)));var mt=A.x+H,yt=mt+$e,Te=A.y+B,$r=Te+me,or=I.x,Or=or+ce,_t=I.y,Nr=_t+Ee,_r=Math.max(mt,or),Tr=Math.min(yt,Or),sr=(_r+Tr)/2,Ar=sr-mt,Lr=Math.max(Te,_t),ur=Math.min($r,Nr),Dr=(Lr+ur)/2,Ir=Dr-Te;o==null||o(t,Ge);var Tt=oe.right-A.x-(H+A.width),Ae=oe.bottom-A.y-(B+A.height);Ue===1&&(H=Math.round(H),Tt=Math.round(Tt)),Ie===1&&(B=Math.round(B),Ae=Math.round(Ae));var qr={ready:!0,offsetX:H/Ue,offsetY:B/Ie,offsetR:Tt/Ue,offsetB:Ae/Ie,arrowX:Ar/Ue,arrowY:Ir/Ie,scaleX:Ue,scaleY:Ie,align:Ge};l(qr)}}),d=function(){v.current+=1;var F=v.current;Promise.resolve().then(function(){v.current===F&&y()})},p=function(){l(function(F){return k(k({},F),{},{ready:!1})})};return he(p,[i]),he(function(){n||p()},[n]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,d]}function Fo(n,t,e,i,r){he(function(){if(n&&t&&e){let v=function(){i(),r()};var a=t,o=e,s=vn(a),u=vn(o),c=Bt(o),l=new Set([c].concat(_(s),_(u)));return l.forEach(function(g){g.addEventListener("scroll",v,{passive:!0})}),c.addEventListener("resize",v,{passive:!0}),i(),function(){l.forEach(function(g){g.removeEventListener("scroll",v),c.removeEventListener("resize",v)})}}},[n,t,e])}function Co(n,t,e,i,r,a,o,s){var u=f.useRef(n);u.current=n;var c=f.useRef(!1);f.useEffect(function(){if(t&&i&&(!r||a)){var v=function(){c.current=!1},g=function(d){var p;u.current&&!o(((p=d.composedPath)===null||p===void 0||(p=p.call(d))===null||p===void 0?void 0:p[0])||d.target)&&!c.current&&s(!1)},b=Bt(i);b.addEventListener("pointerdown",v,!0),b.addEventListener("mousedown",g,!0),b.addEventListener("contextmenu",g,!0);var h=Xr(e);return h&&(h.addEventListener("mousedown",g,!0),h.addEventListener("contextmenu",g,!0)),function(){b.removeEventListener("pointerdown",v,!0),b.removeEventListener("mousedown",g,!0),b.removeEventListener("contextmenu",g,!0),h&&(h.removeEventListener("mousedown",g,!0),h.removeEventListener("contextmenu",g,!0))}}},[t,e,i,r,a]);function l(){c.current=!0}return l}var Eo=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Po(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:si,t=f.forwardRef(function(e,i){var r=e.prefixCls,a=r===void 0?"rc-trigger-popup":r,o=e.children,s=e.action,u=s===void 0?"hover":s,c=e.showAction,l=e.hideAction,v=e.popupVisible,g=e.defaultPopupVisible,b=e.onPopupVisibleChange,h=e.afterPopupVisibleChange,y=e.mouseEnterDelay,d=e.mouseLeaveDelay,p=d===void 0?.1:d,m=e.focusDelay,F=e.blurDelay,P=e.mask,E=e.maskClosable,C=E===void 0?!0:E,V=e.getPopupContainer,x=e.forceRender,M=e.autoDestroy,S=e.destroyPopupOnHide,$=e.popup,D=e.popupClassName,T=e.popupStyle,N=e.popupPlacement,J=e.builtinPlacements,W=J===void 0?{}:J,Q=e.popupAlign,ee=e.zIndex,ne=e.stretch,I=e.getPopupClassNameFromAlign,De=e.fresh,le=e.alignPoint,X=e.onPopupClick,A=e.onPopupAlign,Z=e.arrow,Se=e.popupMotion,ke=e.maskMotion,xe=e.popupTransitionName,fe=e.popupAnimation,ze=e.maskTransitionName,tt=e.maskAnimation,me=e.className,$e=e.getTriggerDOMNode,Ee=br(e,Eo),ce=M||S||!1,St=f.useState(!1),He=j(St,2),ye=He[0],Oe=He[1];he(function(){Oe(co())},[]);var rt=f.useRef({}),ae=f.useContext(Wn),Fr=f.useMemo(function(){return{registerSubPopup:function(O,G){rt.current[O]=G,ae==null||ae.registerSubPopup(O,G)}}},[ae]),U=ha(),Gt=f.useState(null),nt=j(Gt,2),oe=nt[0],Ue=nt[1],Ie=f.useRef(null),Cr=We(function(R){Ie.current=R,Yr(R)&&oe!==R&&Ue(R),ae==null||ae.registerSubPopup(U,R)}),Er=f.useState(null),Kt=j(Er,2),Pe=Kt[0],Me=Kt[1],pe=f.useRef(null),Pr=We(function(R){Yr(R)&&Pe!==R&&(Me(R),pe.current=R)}),it=f.Children.only(o),be=(it==null?void 0:it.props)||{},Be={},Mr=We(function(R){var O,G,te=Pe;return(te==null?void 0:te.contains(R))||((O=Xr(te))===null||O===void 0?void 0:O.host)===R||R===te||(oe==null?void 0:oe.contains(R))||((G=Xr(oe))===null||G===void 0?void 0:G.host)===R||R===oe||Object.values(rt.current).some(function(K){return(K==null?void 0:K.contains(R))||R===K})}),Jt=Hn(a,Se,fe,xe),Rr=Hn(a,ke,tt,ze),Vr=f.useState(g||!1),Ne=j(Vr,2),de=Ne[0],kt=Ne[1],se=v??de,Ge=We(function(R){v===void 0&&kt(R)});he(function(){kt(v||!1)},[v]);var H=f.useRef(se);H.current=se;var B=f.useRef([]);B.current=[];var Re=We(function(R){var O;Ge(R),((O=B.current[B.current.length-1])!==null&&O!==void 0?O:se)!==R&&(B.current.push(R),b==null||b(R))}),at=f.useRef(),xt=function(){clearTimeout(at.current)},we=function(O){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;xt(),G===0?Re(O):at.current=setTimeout(function(){Re(O)},G*1e3)};f.useEffect(function(){return xt},[]);var Qt=f.useState(!1),$t=j(Qt,2),Ke=$t[0],Zt=$t[1];he(function(R){(!R||se)&&Zt(!0)},[se]);var Sr=f.useState(null),Ot=j(Sr,2),vt=Ot[0],Nt=Ot[1],ot=f.useState(null),st=j(ot,2),qe=st[0],ht=st[1],ut=function(O){ht([O.clientX,O.clientY])},Yt=wo(se,oe,le&&qe!==null?qe:Pe,N,W,Q,A),ie=j(Yt,11),Xt=ie[0],kr=ie[1],lt=ie[2],er=ie[3],xr=ie[4],tr=ie[5],rr=ie[6],ct=ie[7],nr=ie[8],gt=ie[9],je=ie[10],ir=yo(ye,u,c,l),ar=j(ir,2),_e=ar[0],Ve=ar[1],mt=_e.has("click"),yt=Ve.has("click")||Ve.has("contextMenu"),Te=We(function(){Ke||je()}),$r=function(){H.current&&le&&yt&&we(!1)};Fo(se,Pe,oe,Te,$r),he(function(){Te()},[qe,N]),he(function(){se&&!(W!=null&&W[N])&&Te()},[JSON.stringify(Q)]);var or=f.useMemo(function(){var R=bo(W,a,gt,le);return Ct(R,I==null?void 0:I(gt))},[gt,I,W,a,le]);f.useImperativeHandle(i,function(){return{nativeElement:pe.current,popupElement:Ie.current,forceAlign:Te}});var Or=f.useState(0),_t=j(Or,2),Nr=_t[0],_r=_t[1],Tr=f.useState(0),sr=j(Tr,2),Ar=sr[0],Lr=sr[1],ur=function(){if(ne&&Pe){var O=Pe.getBoundingClientRect();_r(O.width),Lr(O.height)}},Dr=function(){ur(),Te()},Ir=function(O){Zt(!1),je(),h==null||h(O)},Tt=function(){return new Promise(function(O){ur(),Nt(function(){return O})})};he(function(){vt&&(je(),vt(),Nt(null))},[vt]);function Ae(R,O,G,te){Be[R]=function(K){var fr;te==null||te(K),we(O,G);for(var Hr=arguments.length,wn=new Array(Hr>1?Hr-1:0),dr=1;dr<Hr;dr++)wn[dr-1]=arguments[dr];(fr=be[R])===null||fr===void 0||fr.call.apply(fr,[be,K].concat(wn))}}(mt||yt)&&(Be.onClick=function(R){var O;H.current&&yt?we(!1):!H.current&&mt&&(ut(R),we(!0));for(var G=arguments.length,te=new Array(G>1?G-1:0),K=1;K<G;K++)te[K-1]=arguments[K];(O=be.onClick)===null||O===void 0||O.call.apply(O,[be,R].concat(te))});var qr=Co(se,yt,Pe,oe,P,C,Mr,we),Fe=_e.has("hover"),lr=Ve.has("hover"),pt,Je;Fe&&(Ae("onMouseEnter",!0,y,function(R){ut(R)}),Ae("onPointerEnter",!0,y,function(R){ut(R)}),pt=function(O){(se||Ke)&&oe!==null&&oe!==void 0&&oe.contains(O.target)&&we(!0,y)},le&&(Be.onMouseMove=function(R){var O;(O=be.onMouseMove)===null||O===void 0||O.call(be,R)})),lr&&(Ae("onMouseLeave",!1,p),Ae("onPointerLeave",!1,p),Je=function(){we(!1,p)}),_e.has("focus")&&Ae("onFocus",!0,m),Ve.has("focus")&&Ae("onBlur",!1,F),_e.has("contextMenu")&&(Be.onContextMenu=function(R){var O;H.current&&Ve.has("contextMenu")?we(!1):(ut(R),we(!0)),R.preventDefault();for(var G=arguments.length,te=new Array(G>1?G-1:0),K=1;K<G;K++)te[K-1]=arguments[K];(O=be.onContextMenu)===null||O===void 0||O.call.apply(O,[be,R].concat(te))}),me&&(Be.className=Ct(be.className,me));var Qe=k(k({},be),Be),At={},cr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];cr.forEach(function(R){Ee[R]&&(At[R]=function(){for(var O,G=arguments.length,te=new Array(G),K=0;K<G;K++)te[K]=arguments[K];(O=Qe[R])===null||O===void 0||O.call.apply(O,[Qe].concat(te)),Ee[R].apply(Ee,te)})});var jr=f.cloneElement(it,k(k({},Qe),At)),Wr={x:tr,y:rr},zr=Z?k({},Z!==!0?Z:{}):null;return f.createElement(f.Fragment,null,f.createElement(pn,{disabled:!se,ref:Pr,onResize:Dr},f.createElement(mo,{getTriggerDOMNode:$e},jr)),f.createElement(Wn.Provider,{value:Fr},f.createElement(go,{portal:n,ref:Cr,prefixCls:a,popup:$,className:Ct(D,or),style:T,target:Pe,onMouseEnter:pt,onMouseLeave:Je,onPointerEnter:pt,zIndex:ee,open:se,keepDom:Ke,fresh:De,onClick:X,onPointerDownCapture:qr,mask:P,motion:Jt,maskMotion:Rr,onVisibleChanged:Ir,onPrepare:Tt,forceRender:x,autoDestroy:ce,getPopupContainer:V,align:gt,arrow:zr,arrowPos:Wr,ready:Xt,offsetX:kr,offsetY:lt,offsetR:er,offsetB:xr,onAlign:Te,stretch:ne,targetWidth:Nr/ct,targetHeight:Ar/nr})))});return t}const Do=Po(si);export{jn as F,To as N,si as P,pn as R,Do as T,Ao as V,xo as a,ha as b,Oo as c,Vo as d,So as e,Xi as f,_o as g,ea as h,No as i,co as j,Lo as k,ko as o,gr as t,$o as u,lo as w};
