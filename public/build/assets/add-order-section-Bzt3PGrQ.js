import{u,r as m,a as v,j as p,s as x,c as k}from"./app-DfB2H0oh.js";import{a as D}from"./booking-info-thunk-BzDIWN5k.js";import{e as I}from"./booking-info-service-DAfKjQc4.js";function L({quantities:f}){const{selected:e,search:n,customer:s}=u(t=>t.app),{booking_info:N}=u(t=>t.booking_info),[c,r]=m.useState(!1),g=v(),_=window.location.pathname.split("/")[3],b=e==null?void 0:e.reduce((t,o)=>t+Number(o.rate),0),a=Object.values(f).map(t=>t.id?{...t}:null),i=a==null?void 0:a.reduce((t,o)=>t+Number((o==null?void 0:o.rate)??0)*Number((o==null?void 0:o.quantity)??0),0);console.log("dawdawlkd",i);function h(t,o){const y=new Date(t),l=(new Date(o)-y)/(1e3*60*60*24);return l==0?1:l}const d=h(n.start,n.end);console.log("total_activity",a);async function w(){try{window.confirm("Are you sure you want to proceed?")&&(r(!0),await I({...n,selected:e,customer:s,gap:d,activities:a,total_activity:i??0,total_rent:b*d+parseInt(s.children)+parseInt(s.adults)}),await x.dispatch(D(_)),g(k([])),r(!1))}catch{r(!1)}}return p.jsx("div",{children:p.jsx("button",{disabled:c,onClick:w,className:"shadow-xl rounded-md p-2.5 bg-green-600 hover:bg-green-500 text-white",children:c?"Loading...":"SUBMIT ADDITIONAL BOOKING"})})}export{L as default};
