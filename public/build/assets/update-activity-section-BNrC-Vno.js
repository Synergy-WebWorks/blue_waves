import{r as l,u as v,a as j,j as e,s as h}from"./app-D9x9ctr6.js";import{a as g,c as b}from"./index-BPWd4KGH.js";import{u as N,g as w}from"./activity-thunk-AqdEeBj8.js";import k from"./update-image-section-DXMR-yNl.js";import S from"./wysiwyg_rent-C3CkwkeU.js";import{T as A}from"./index-BjmZIdWN.js";import{F as C}from"./XMarkIcon-CoJvsYwH.js";import{s as y}from"./index-BE60-ifs.js";import{_ as r}from"./dialog-WfjHwV3s.js";import"./index-C7zVGnLt.js";import"./useZIndex-3p01UiO0.js";import"./useId-I3YYQZ7I.js";import"./index-CoHY3dti.js";import"./zoom-xPDCS9ed.js";import"./LeftOutlined-DdQX4Cyl.js";import"./useLocale-DKAAx_Y8.js";import"./quill.snow-BNVM3mqa.js";import"./purify.es-DhD2mIk-.js";import"./index-Db8mnhdQ.js";import"./asyncToGenerator-Fp9pSDUy.js";import"./colors-f7bniuDU.js";import"./UnstableContext-BbPvqnid.js";import"./use-disposables-ozUtsfmQ.js";import"./keyboard-Di0XV4xV.js";import"./use-root-containers-B2Dp0Mbq.js";function te({data:o}){const[p,n]=l.useState(!1),[m,u]=l.useState(!1),[c,F]=l.useState(null),{activity:_}=v(s=>s.activities),[t,d]=l.useState({});j();function i(s){s&&s.target?d({...t,[s.target.name]:s.target.value}):d({...t,description:s})}l.useEffect(()=>{d(o)},[p]);async function f(s){s.preventDefault(),u(!0);const a=new FormData;a.append("id",t.id??""),a.append("file_name",t.file_name??""),a.append("name",t.name??""),a.append("rate",t.rate??""),a.append("unit",t.unit??""),a.append("quantity",t.quantity??""),a.append("intro",t.intro??""),a.append("description",t.description??""),a.append("status",t.status??""),c&&c.length>0&&Array.from(c).forEach(x=>{a.append("uploads[]",x)});try{await h.dispatch(N(a)),await h.dispatch(w()),y.success("Activity successfully updated!"),n(!1)}catch{y.error("Failed to update Activity. Please try again.")}finally{u(!1)}}return console.log("data",o),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-1 text-center",children:e.jsx(A,{title:"Update Activity",children:e.jsx("button",{type:"button",onClick:()=>n(!0),children:e.jsx(g,{"aria-hidden":"true",className:"float-left size-6"})})})}),e.jsxs(r,{open:p,onClose:()=>n(!1),className:"relative z-40",children:[e.jsx(r.Backdrop,{className:"fixed inset-0 bg-gray-500/75 transition-opacity duration-500 ease-in-out data-[closed]:opacity-0"}),e.jsx("div",{className:"fixed inset-0 overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10",children:e.jsx(r.Panel,{className:"pointer-events-auto w-screen max-w-md transform transition duration-500 ease-in-out data-[closed]:translate-x-full sm:duration-700",children:e.jsxs("div",{className:"flex h-full flex-col overflow-y-scroll bg-cyan-600 py-6 shadow-xl",children:[e.jsx("div",{className:"px-4 sm:px-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs(r.Title,{className:"text-base font-semibold text-white",children:[e.jsx(b,{className:"size-5 float-left mr-2"})," ","Update Activity"]}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",onClick:()=>n(!1),className:"relative rounded-md text-gray-600 hover:text-white focus:outline-none",children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx(C,{"aria-hidden":"true",className:"size-6"})]})})]})}),e.jsxs("form",{onSubmit:f,className:"relative mt-6 flex-1 px-4 sm:px-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"sm:col-span-12",children:[e.jsx("hr",{}),e.jsx("h3",{className:"text-base font-medium text-white pt-3",children:"Activity Information"})]}),e.jsx("div",{className:"sm:col-span-12",children:e.jsx("input",{onChange:i,value:(t==null?void 0:t.name)??"",name:"name",type:"text",placeholder:"Activity Name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-sky-500 focus:border-sky-500 sm:text-sm/6"})}),e.jsx("div",{className:"sm:col-span-12",children:e.jsx("input",{onChange:i,value:(t==null?void 0:t.intro)??"",name:"intro",type:"text",placeholder:"Short Intro for Activity",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-sky-500 focus:border-sky-500 sm:text-sm/6"})}),e.jsx("div",{className:"sm:col-span-6",children:e.jsx("input",{onChange:i,value:(t==null?void 0:t.rate)??"",name:"rate",type:"number",placeholder:"Activity Rate",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-sky-500 focus:border-sky-500 sm:text-sm/6"})}),e.jsx("div",{className:"sm:col-span-6",children:e.jsxs("select",{onChange:i,value:(t==null?void 0:t.unit)??"",name:"unit",className:"col-start-1 row-start-1 w-full appearance-none rounded-md bg-white py-1.5 pl-3 pr-8 text-base text-gray-900 outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm/6",children:[e.jsx("option",{value:"",disabled:!0,children:"-- Activity Unit --"}),e.jsx("option",{value:"per hour",children:"per hour"}),e.jsx("option",{value:"per day",children:"per day"}),e.jsx("option",{value:"per session",children:"per session"}),e.jsx("option",{value:"per night",children:"per night"})]})}),e.jsx("div",{className:"sm:col-span-6",children:e.jsx("input",{onChange:i,value:(t==null?void 0:t.quantity)??"",name:"quantity",type:"number",placeholder:"Quantity",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-sky-500 focus:border-sky-500 sm:text-sm/6"})}),e.jsxs("div",{className:"sm:col-span-12",children:[e.jsx("hr",{}),e.jsx("h3",{className:"text-base font-medium text-white pt-3",children:"Activity Description"})]}),e.jsx("div",{className:"sm:col-span-12",children:e.jsx(S,{onChange:s=>i({target:{name:"description",value:s}}),value:(t==null?void 0:t.description)??""})}),e.jsxs("div",{className:"sm:col-span-12",children:[e.jsx("hr",{}),e.jsx("h3",{className:"text-base font-medium text-white pt-3",children:"Status"})]}),e.jsx("div",{className:"sm:col-span-12",children:e.jsxs("select",{name:"status",onChange:i,value:(t==null?void 0:t.status)??"",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none",children:[e.jsx("option",{value:"",disabled:!0,children:"-- Update Status --"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"sm:col-span-12",children:[e.jsx("hr",{}),e.jsx("div",{className:"mt-4 flex justify-center rounded-lg border border-dashed border-white bg-cyan-600 px-6 py-10",children:e.jsx("div",{className:"text-center",children:e.jsx(k,{data:o})})})]})]})}),e.jsxs("div",{className:"flex shrink-0 justify-end px-4 py-4",children:[e.jsx("button",{type:"button",onClick:()=>n(!1),className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:ring-gray-400",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"ml-4 inline-flex justify-center rounded-md bg-sky-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-sky-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-500",children:m?"Saving...":"Save"})]})]})]})})})})})]})]})}export{te as default};
