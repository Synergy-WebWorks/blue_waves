import{r as l,b as p,c as $}from"./app-BK6OWJZL.js";import{U as v,C as E,i as R,a as f,p as M,w as H,y as b,x as F,n as g,z as x,j as S,l as C}from"./keyboard-dDytMljD.js";let L="div";var y=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(y||{});function k(e,n){var r;let{features:t=1,...u}=e,o={ref:n,"aria-hidden":(t&2)===2?!0:(r=u["aria-hidden"])!=null?r:void 0,hidden:(t&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(t&4)===4&&(t&2)!==2&&{display:"none"}}};return E({ourProps:o,theirProps:u,slot:{},defaultTag:L,name:"Hidden"})}let T=v(k);function _(e,n,r,t){let u=R(r);l.useEffect(()=>{e=e??window;function o(a){u.current(a)}return e.addEventListener(n,o,t),()=>e.removeEventListener(n,o,t)},[e,n,t])}function j(e){let n=f(e),r=l.useRef(!1);l.useEffect(()=>(r.current=!1,()=>{r.current=!0,M(()=>{r.current&&n()})}),[n])}var A=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(A||{});function J(){let e=l.useRef(0);return H("keydown",n=>{n.key==="Tab"&&(e.current=n.shiftKey?1:0)},!0),e}let w=l.createContext(!1);function B(){return l.useContext(w)}function Q(e){return p.createElement(w.Provider,{value:e.force},e.children)}function U(e){let n=B(),r=l.useContext(N),t=g(e),[u,o]=l.useState(()=>{if(!n&&r!==null||x.isServer)return null;let a=t==null?void 0:t.getElementById("headlessui-portal-root");if(a)return a;if(t===null)return null;let i=t.createElement("div");return i.setAttribute("id","headlessui-portal-root"),t.body.appendChild(i)});return l.useEffect(()=>{u!==null&&(t!=null&&t.body.contains(u)||t==null||t.body.appendChild(u))},[u,t]),l.useEffect(()=>{n||r!==null&&o(r.current)},[r,o,n]),u}let q=l.Fragment;function D(e,n){let r=e,t=l.useRef(null),u=b(F(d=>{t.current=d}),n),o=g(t),a=U(t),[i]=l.useState(()=>{var d;return x.isServer?null:(d=o==null?void 0:o.createElement("div"))!=null?d:null}),c=l.useContext(h),m=S();return C(()=>{!a||!i||a.contains(i)||(i.setAttribute("data-headlessui-portal",""),a.appendChild(i))},[a,i]),C(()=>{if(i&&c)return c.register(i)},[c,i]),j(()=>{var d;!a||!i||(i instanceof Node&&a.contains(i)&&a.removeChild(i),a.childNodes.length<=0&&((d=a.parentElement)==null||d.removeChild(a)))}),m?!a||!i?null:$.createPortal(E({ourProps:{ref:u},theirProps:r,defaultTag:q,name:"Portal"}),i):null}let G=l.Fragment,N=l.createContext(null);function I(e,n){let{target:r,...t}=e,u={ref:b(n)};return p.createElement(N.Provider,{value:r},E({ourProps:u,theirProps:t,defaultTag:G,name:"Popover.Group"}))}let h=l.createContext(null);function V(){let e=l.useContext(h),n=l.useRef([]),r=f(o=>(n.current.push(o),e&&e.register(o),()=>t(o))),t=f(o=>{let a=n.current.indexOf(o);a!==-1&&n.current.splice(a,1),e&&e.unregister(o)}),u=l.useMemo(()=>({register:r,unregister:t,portals:n}),[r,t,n]);return[n,l.useMemo(()=>function({children:o}){return p.createElement(h.Provider,{value:u},o)},[u])]}let O=v(D),z=v(I),X=Object.assign(O,{Group:z});function Y({defaultContainers:e=[],portals:n,mainTreeNodeRef:r}={}){var t;let u=l.useRef((t=r==null?void 0:r.current)!=null?t:null),o=g(u),a=f(()=>{var i,c,m;let d=[];for(let s of e)s!==null&&(s instanceof HTMLElement?d.push(s):"current"in s&&s.current instanceof HTMLElement&&d.push(s.current));if(n!=null&&n.current)for(let s of n.current)d.push(s);for(let s of(i=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?i:[])s!==document.body&&s!==document.head&&s instanceof HTMLElement&&s.id!=="headlessui-portal-root"&&(s.contains(u.current)||s.contains((m=(c=u.current)==null?void 0:c.getRootNode())==null?void 0:m.host)||d.some(P=>s.contains(P))||d.push(s));return d});return{resolveContainers:a,contains:f(i=>a().some(c=>c.contains(i))),mainTreeNodeRef:u,MainTreeNode:l.useMemo(()=>function(){return r!=null?null:p.createElement(T,{features:y.Hidden,ref:u})},[u,r])}}function Z(){let e=l.useRef(null);return{mainTreeNodeRef:e,MainTreeNode:l.useMemo(()=>function(){return p.createElement(T,{features:y.Hidden,ref:e})},[e])}}export{_ as E,Y as N,y as a,j as c,V as e,Q as l,J as n,A as s,X as t,T as u,Z as y};
