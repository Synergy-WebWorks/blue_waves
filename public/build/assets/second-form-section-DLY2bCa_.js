import{u as y,r as b,a as N,j as e,e as n,c as v}from"./app-4V3ShrLS.js";import{F as w}from"./TrashIcon-Bp_2DRxW.js";function I(){const{selected:d,customer:s,search:r}=y(t=>t.app),[o,x]=b.useState(""),i=N(),h=(s==null?void 0:s.mobile)||"";function f(t,l){const a=new Date(t);return(new Date(l)-a)/(1e3*60*60*24)}const c=f(r.start,r.end),m=d.reduce((t,l)=>t+Number(l.rate),0)*c;function g(t){const l=t.id,a=d.filter(u=>u.id!==l);i(v(a))}function p(t){return/^09\d{9}$/.test(t)}const j=t=>{const{name:l,value:a}=t.target;l==="mobile"&&(p(a)?x(""):x("Invalid mobile number format. Use 11 digit number format")),a.length<=11&&i(n({...s,[l]:a}))};return console.log("customer",s),e.jsx("div",{className:"bg-gray-50",children:e.jsxs("div",{className:"mx-auto max-w-2xl px-4 pt-16 pb-24 sm:px-6 lg:max-w-7xl lg:px-8",children:[e.jsx("h2",{className:"sr-only",children:"Checkout"}),e.jsxs("form",{className:"lg:grid lg:grid-cols-2 lg:gap-x-12 xl:gap-x-16",children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-medium text-cyan-600",children:"Contact information"}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"email-address",className:"block text-sm/6 font-medium text-gray-700",children:"Email address"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{name:"email",value:s.email??"",onChange:t=>i(n({...s,[t.target.name]:t.target.value})),id:"email-address",type:"email",autoComplete:"email",placeholder:"(e.g.,guest@gmail.com)",className:"block w-full rounded-md bg-white px-3 py-2 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-cyan-600 sm:text-sm/6",required:!0})}),!s.email&&e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"This field is required"})]}),e.jsxs("div",{className:"sm:col-span-2 mt-3",children:[e.jsx("label",{for:"phone-input",class:"block mb-2 text-sm font-medium",children:"Mobile number:"}),e.jsxs("div",{class:"relative",children:[e.jsx("div",{class:"absolute text-gray-700 inset-y-0 start-0 top-0 flex items-center ps-3.5 pointer-events-none",children:e.jsx("svg",{class:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 19 18",children:e.jsx("path",{d:"M18 13.446a3.02 3.02 0 0 0-.946-1.985l-1.4-1.4a3.054 3.054 0 0 0-4.218 0l-.7.7a.983.983 0 0 1-1.39 0l-2.1-2.1a.983.983 0 0 1 0-1.389l.7-.7a2.98 2.98 0 0 0 0-4.217l-1.4-1.4a2.824 2.824 0 0 0-4.218 0c-3.619 3.619-3 8.229 1.752 12.979C6.785 16.639 9.45 18 11.912 18a7.175 7.175 0 0 0 5.139-2.325A2.9 2.9 0 0 0 18 13.446Z"})})}),e.jsx("input",{value:h,onChange:j,type:"tel",id:"mobile",name:"mobile",maxLength:11,className:"bg-white border outline-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5",placeholder:"(0912-345-6789)",required:!0})]}),o&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o}),!s.mobile&&e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"This field is required"})]})]}),e.jsxs("div",{className:"mt-10 border-t border-gray-200 pt-10",children:[e.jsx("h2",{className:"text-lg font-medium text-cyan-600",children:"Personal information"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first-name",className:"block text-sm/6 font-medium text-gray-700",children:"First name"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"first-name",name:"fname",value:s.fname??"",onChange:t=>i(n({...s,[t.target.name]:t.target.value})),type:"text",autoComplete:"given-name",className:"block w-full rounded-md bg-white px-3 py-2 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-cyan-600 sm:text-sm/6",required:!0})}),!s.fname&&e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"This field is required"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first-name",className:"block text-sm/6 font-medium text-gray-700",children:"Middle name"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"first-name",name:"mname",value:s.mname??"",onChange:t=>i(n({...s,[t.target.name]:t.target.value})),type:"text",autoComplete:"given-name",className:"block w-full rounded-md bg-white px-3 py-2 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-cyan-600 sm:text-sm/6"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last-name",className:"block text-sm/6 font-medium text-gray-700",children:"Last name"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{id:"last-name",name:"lname",value:s.lname??"",onChange:t=>i(n({...s,[t.target.name]:t.target.value})),type:"text",autoComplete:"family-name",className:"block w-full rounded-md bg-white px-3 py-2 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-cyan-600 sm:text-sm/6",required:!0}),!s.lname&&e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"This field is required"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last-name",className:"block text-sm/6 font-medium text-gray-700",children:"Suffix"}),e.jsx("div",{className:"mt-2",children:e.jsxs("select",{id:"last-name",name:"suffix",value:s.suffix??"",onChange:t=>i(n({...s,[t.target.name]:t.target.value})),type:"text",autoComplete:"family-name",className:"block w-full rounded-md bg-white px-3 py-2 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-cyan-600 sm:text-sm/6",children:[e.jsx("option",{}),e.jsx("option",{children:"Sr"}),e.jsx("option",{children:"Jr"}),e.jsx("option",{children:"I"}),e.jsx("option",{children:"II"}),e.jsx("option",{children:"III"})]})})]})]})]})]}),e.jsxs("div",{className:"mt-10 lg:mt-0",children:[e.jsx("h2",{className:"text-lg font-medium text-cyan-600",children:"Booking Order summary"}),e.jsxs("div",{className:"mt-4 rounded-lg border border-gray-200 bg-white shadow-xs",children:[e.jsx("h3",{className:"sr-only",children:"Items in your cart"}),e.jsx("ul",{role:"list",className:"divide-y divide-gray-200",children:d.map((t,l)=>{var a;return console.log("orderorder",t),e.jsxs("li",{className:"flex px-4 py-6 sm:px-6",children:[e.jsx("div",{className:"shrink-0",children:e.jsx("img",{alt:t.imageAlt,src:(a=t==null?void 0:t.uploads[0])==null?void 0:a.file,className:"w-20 rounded-md"})}),e.jsxs("div",{className:"ml-6 flex flex-1 flex-col",children:[e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"text-sm",children:e.jsx("a",{href:t.href,className:"font-medium text-gray-700 hover:text-gray-800",children:t.name})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex gap-3 flex-col",children:["Min Capacity:",t.min_capacity]}),e.jsxs("div",{children:["Max Capacity:",t.max_capacity]}),e.jsx("div",{children:t.description})]})]}),e.jsx("div",{className:"ml-4 flow-root shrink-0",children:e.jsxs("button",{onClick:()=>g(t),type:"button",className:"-m-2.5 flex items-center justify-center bg-white p-2.5 text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"Remove"}),e.jsx(w,{"aria-hidden":"true",className:"size-5"})]})})]}),e.jsx("div",{className:"flex flex-1 items-end justify-end pt-2",children:e.jsxs("p",{className:"mt-1 text-sm font-medium text-gray-900",children:["₱",parseInt(t.rate).toFixed(2)]})})]})]},t.id)})}),e.jsxs("dl",{className:"space-y-6 border-t border-gray-200 px-4 py-6 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("dt",{className:"text-sm",children:[" ","Subtotal: ",m.toFixed(2)/c," x ",c]}),e.jsxs("dd",{className:"text-sm font-medium text-gray-900",children:["₱",m.toFixed(2)]})]}),e.jsx("div",{className:"flex items-center justify-between p-2 border-b border-gray-300",children:e.jsx("dt",{className:"text-sm",children:"Entrance Fee"})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("dt",{className:"text-sm",children:[" ","Adult: 80 x ",r.adults]}),e.jsxs("dd",{className:"text-sm font-medium text-gray-900",children:["₱",s.adults.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("dt",{className:"text-sm",children:[" ","Children: 40 x ",r.children]}),e.jsxs("dd",{className:"text-sm font-medium text-gray-900",children:["₱",s.children.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6",children:[e.jsx("dt",{className:"text-base font-medium",children:"Total"}),e.jsxs("dd",{className:"text-base font-medium text-gray-900",children:["₱"," ",(parseInt(m)+s.children+s.adults).toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6",children:[e.jsxs("dt",{className:"text-base font-medium",children:["Downpayment"," ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx("p",{className:"text-xs text-gray-500 italic",children:"50% of Total Billed Amount"})]}),e.jsxs("dd",{className:"text-base font-medium text-gray-900",children:["₱",((parseInt(m)+s.children+s.adults)/2).toFixed(2)]})]})]})]})]})]})]})})}export{I as default};
