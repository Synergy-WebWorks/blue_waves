import{r as n,j as e,s as l}from"./app-DWKB3ECa.js";import{u as f,g as p}from"./inventory-thunk-DLFwUJ6O.js";import{t as x}from"./index-_nWhkxxJ.js";import{s as c}from"./index-CfHhbVIp.js";import{T as b,M as h}from"./index-DcJ_XPTU.js";import"./asyncToGenerator-3GSAy4zl.js";import"./UnstableContext-BlQHJsWB.js";import"./index-CXZpTqp6.js";import"./colors-DqK1pk_V.js";function C({data:i}){const[d,r]=n.useState(!1),[t,a]=n.useState({}),[o,u]=c.useMessage();n.useEffect(()=>{a(i)},[i]);const m=async s=>{if(s.preventDefault(),!t.quantity||isNaN(t.quantity)||t.quantity<=0){o.error("Please enter a valid quantity");return}if(!t.received){o.error("Please select a valid received date");return}try{await l.dispatch(f(t)),await l.dispatch(p()),c.success("Stocks Added Successfully"),r(!1)}catch{o.error("Error adding stock")}};return e.jsxs("div",{children:[u,e.jsx(b,{title:"Add Stock(s)",children:e.jsx("button",{type:"button",onClick:()=>r(!0),title:"Add Stocks",className:"relative inline-flex items-center rounded-l-md bg-cyan-600 px-3 py-2 text-sm font-semibold text-gray-300 ring-1 ring-gray-300 ring-inset hover:bg-cyan-500 focus:z-10",children:e.jsx(x,{})})}),e.jsx(h,{title:`Add Stock(s) for ${t==null?void 0:t.name}`,centered:!0,open:d,onCancel:()=>r(!1),footer:null,width:500,children:e.jsxs("form",{onSubmit:m,className:"w-full",children:[e.jsx("div",{className:"flex flex-wrap -mx-3",children:e.jsxs("div",{className:"w-full px-3",children:[e.jsx("label",{className:"block tracking-wide font-bold mb-1 mt-2",htmlFor:"quantity",children:"Number of Stocks"}),e.jsx("input",{onChange:s=>a({...t,quantity:parseInt(s.target.value,10)||0}),name:"quantity",className:"appearance-none block w-full border border-gray-400 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",type:"number"})]})}),e.jsx("div",{className:"flex flex-wrap -mx-3 mb-6",children:e.jsxs("div",{className:"w-full px-3",children:[e.jsx("label",{className:"block tracking-wide font-bold mb-1",htmlFor:"received",children:"Date Received"}),e.jsx("input",{value:(t==null?void 0:t.received)||"",onChange:s=>a({...t,received:s.target.value}),name:"received",className:"appearance-none block w-full border border-gray-400 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",type:"date"})]})}),e.jsxs("div",{className:"flex justify-end gap-1.5 mt-1",children:[e.jsx("button",{type:"button",className:"flex justify-end px-2 py-1.5 rounded-md hover:bg-gray-300",onClick:()=>r(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex justify-end bg-blue-600 px-2 py-1.5 rounded-md text-white hover:bg-blue-500",children:"Add Stocks"})]})]})})]})}export{C as default};
