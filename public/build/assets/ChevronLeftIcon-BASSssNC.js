import{r as s,k as _}from"./app-ysOMdv-7.js";import{p as q}from"./use-disposables-J5co3KQU.js";import{l as D,A as Z,o as g,U as F,y as P,h as H,k as G,u as V,C as T,I as L,d as A,n as z,f as J,g as E,x as X,z as Y,i as f,r as ee,e as U,_ as te,M as B,D as W,B as re}from"./keyboard-C5kaxd1Z.js";import{T as ne}from"./use-resolve-button-type-BmdMThe3.js";function Q(e){return[e.screenX,e.screenY]}function ae(){let e=s.useRef([-1,-1]);return{wasMoved(n){let r=Q(n);return e.current[0]===r[0]&&e.current[1]===r[1]?!1:(e.current=r,!0)},update(n){e.current=Q(n)}}}function ue({container:e,accept:n,walk:r,enabled:a=!0}){let o=s.useRef(n),t=s.useRef(r);s.useEffect(()=>{o.current=n,t.current=r},[n,r]),D(()=>{if(!e||!a)return;let i=Z(e);if(!i)return;let u=o.current,c=t.current,m=Object.assign(y=>u(y),{acceptNode:u}),v=i.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,m,!1);for(;v.nextNode();)c(v.currentNode)},[e,a,o,t])}function oe(e){throw new Error("Unexpected object: "+e)}var b=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(b||{});function ie(e,n){let r=n.resolveItems();if(r.length<=0)return null;let a=n.resolveActiveIndex(),o=a??-1;switch(e.focus){case 0:{for(let t=0;t<r.length;++t)if(!n.resolveDisabled(r[t],t,r))return t;return a}case 1:{for(let t=o-1;t>=0;--t)if(!n.resolveDisabled(r[t],t,r))return t;return a}case 2:{for(let t=o+1;t<r.length;++t)if(!n.resolveDisabled(r[t],t,r))return t;return a}case 3:{for(let t=r.length-1;t>=0;--t)if(!n.resolveDisabled(r[t],t,r))return t;return a}case 4:{for(let t=0;t<r.length;++t)if(n.resolveId(r[t],t,r)===e.id)return t;return a}case 5:return null;default:oe(e)}}let j=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function K(e){var n,r;let a=(n=e.innerText)!=null?n:"",o=e.cloneNode(!0);if(!(o instanceof HTMLElement))return a;let t=!1;for(let u of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),t=!0;let i=t?(r=o.innerText)!=null?r:"":a;return j.test(i)&&(i=i.replace(j,"")),i}function le(e){let n=e.getAttribute("aria-label");if(typeof n=="string")return n.trim();let r=e.getAttribute("aria-labelledby");if(r){let a=r.split(" ").map(o=>{let t=document.getElementById(o);if(t){let i=t.getAttribute("aria-label");return typeof i=="string"?i.trim():K(t).trim()}return null}).filter(Boolean);if(a.length>0)return a.join(", ")}return K(e).trim()}function se(e){let n=s.useRef(""),r=s.useRef("");return g(()=>{let a=e.current;if(!a)return"";let o=a.innerText;if(n.current===o)return r.current;let t=le(a).trim().toLowerCase();return n.current=o,r.current=t,t})}var ce=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ce||{}),de=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(de||{}),fe=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(fe||{});function C(e,n=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,a=re(n(e.items.slice()),t=>t.dataRef.current.domRef.current),o=r?a.indexOf(r):null;return o===-1&&(o=null),{items:a,activeItemIndex:o}}let me={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,n)=>{var r;let a=C(e),o=ie(n,{resolveItems:()=>a.items,resolveActiveIndex:()=>a.activeItemIndex,resolveId:t=>t.id,resolveDisabled:t=>t.dataRef.current.disabled});return{...e,...a,searchQuery:"",activeItemIndex:o,activationTrigger:(r=n.trigger)!=null?r:1}},3:(e,n)=>{let r=e.searchQuery!==""?0:1,a=e.searchQuery+n.value.toLowerCase(),o=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(i=>{var u;return((u=i.dataRef.current.textValue)==null?void 0:u.startsWith(a))&&!i.dataRef.current.disabled}),t=o?e.items.indexOf(o):-1;return t===-1||t===e.activeItemIndex?{...e,searchQuery:a}:{...e,searchQuery:a,activeItemIndex:t,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,n)=>{let r=C(e,a=>[...a,{id:n.id,dataRef:n.dataRef}]);return{...e,...r}},6:(e,n)=>{let r=C(e,a=>{let o=a.findIndex(t=>t.id===n.id);return o!==-1&&a.splice(o,1),a});return{...e,...r,activationTrigger:1}}},N=s.createContext(null);N.displayName="MenuContext";function k(e){let n=s.useContext(N);if(n===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,k),r}return n}function pe(e,n){return V(n.type,me,e,n)}let ve=s.Fragment;function ge(e,n){let{__demoMode:r=!1,...a}=e,o=s.useReducer(pe,{__demoMode:r,menuState:r?0:1,buttonRef:s.createRef(),itemsRef:s.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:t,itemsRef:i,buttonRef:u},c]=o,m=P(n);H([u,i],(h,R)=>{var d;c({type:1}),X(R,Y.Loose)||(h.preventDefault(),(d=u.current)==null||d.focus())},t===0);let v=g(()=>{c({type:1})}),y=s.useMemo(()=>({open:t===0,close:v}),[t,v]),I={ref:m};return _.createElement(N.Provider,{value:o},_.createElement(G,{value:V(t,{0:E.Open,1:E.Closed})},T({ourProps:I,theirProps:a,slot:y,defaultTag:ve,name:"Menu"})))}let Ie="button";function be(e,n){var r;let a=L(),{id:o=`headlessui-menu-button-${a}`,...t}=e,[i,u]=k("Menu.Button"),c=P(i.buttonRef,n),m=q(),v=g(d=>{switch(d.key){case f.Space:case f.Enter:case f.ArrowDown:d.preventDefault(),d.stopPropagation(),u({type:0}),m.nextFrame(()=>u({type:2,focus:b.First}));break;case f.ArrowUp:d.preventDefault(),d.stopPropagation(),u({type:0}),m.nextFrame(()=>u({type:2,focus:b.Last}));break}}),y=g(d=>{switch(d.key){case f.Space:d.preventDefault();break}}),I=g(d=>{if(ee(d.currentTarget))return d.preventDefault();e.disabled||(i.menuState===0?(u({type:1}),m.nextFrame(()=>{var x;return(x=i.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})})):(d.preventDefault(),u({type:0})))}),h=s.useMemo(()=>({open:i.menuState===0}),[i]),R={ref:c,id:o,type:ne(e,i.buttonRef),"aria-haspopup":"menu","aria-controls":(r=i.itemsRef.current)==null?void 0:r.id,"aria-expanded":i.menuState===0,onKeyDown:v,onKeyUp:y,onClick:I};return T({ourProps:R,theirProps:t,slot:h,defaultTag:Ie,name:"Menu.Button"})}let ye="div",he=U.RenderStrategy|U.Static;function xe(e,n){var r,a;let o=L(),{id:t=`headlessui-menu-items-${o}`,...i}=e,[u,c]=k("Menu.Items"),m=P(u.itemsRef,n),v=z(u.itemsRef),y=q(),I=J(),h=I!==null?(I&E.Open)===E.Open:u.menuState===0;s.useEffect(()=>{let l=u.itemsRef.current;l&&u.menuState===0&&l!==(v==null?void 0:v.activeElement)&&l.focus({preventScroll:!0})},[u.menuState,u.itemsRef,v]),ue({container:u.itemsRef.current,enabled:u.menuState===0,accept(l){return l.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:l.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(l){l.setAttribute("role","none")}});let R=g(l=>{var w,S;switch(y.dispose(),l.key){case f.Space:if(u.searchQuery!=="")return l.preventDefault(),l.stopPropagation(),c({type:3,value:l.key});case f.Enter:if(l.preventDefault(),l.stopPropagation(),c({type:1}),u.activeItemIndex!==null){let{dataRef:p}=u.items[u.activeItemIndex];(S=(w=p.current)==null?void 0:w.domRef.current)==null||S.click()}W(u.buttonRef.current);break;case f.ArrowDown:return l.preventDefault(),l.stopPropagation(),c({type:2,focus:b.Next});case f.ArrowUp:return l.preventDefault(),l.stopPropagation(),c({type:2,focus:b.Previous});case f.Home:case f.PageUp:return l.preventDefault(),l.stopPropagation(),c({type:2,focus:b.First});case f.End:case f.PageDown:return l.preventDefault(),l.stopPropagation(),c({type:2,focus:b.Last});case f.Escape:l.preventDefault(),l.stopPropagation(),c({type:1}),A().nextFrame(()=>{var p;return(p=u.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})});break;case f.Tab:l.preventDefault(),l.stopPropagation(),c({type:1}),A().nextFrame(()=>{te(u.buttonRef.current,l.shiftKey?B.Previous:B.Next)});break;default:l.key.length===1&&(c({type:3,value:l.key}),y.setTimeout(()=>c({type:4}),350));break}}),d=g(l=>{switch(l.key){case f.Space:l.preventDefault();break}}),x=s.useMemo(()=>({open:u.menuState===0}),[u]),M={"aria-activedescendant":u.activeItemIndex===null||(r=u.items[u.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(a=u.buttonRef.current)==null?void 0:a.id,id:t,onKeyDown:R,onKeyUp:d,role:"menu",tabIndex:0,ref:m};return T({ourProps:M,theirProps:i,slot:x,defaultTag:ye,features:he,visible:h,name:"Menu.Items"})}let Re=s.Fragment;function we(e,n){let r=L(),{id:a=`headlessui-menu-item-${r}`,disabled:o=!1,...t}=e,[i,u]=k("Menu.Item"),c=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===a:!1,m=s.useRef(null),v=P(n,m);D(()=>{if(i.__demoMode||i.menuState!==0||!c||i.activationTrigger===0)return;let p=A();return p.requestAnimationFrame(()=>{var $,O;(O=($=m.current)==null?void 0:$.scrollIntoView)==null||O.call($,{block:"nearest"})}),p.dispose},[i.__demoMode,m,c,i.menuState,i.activationTrigger,i.activeItemIndex]);let y=se(m),I=s.useRef({disabled:o,domRef:m,get textValue(){return y()}});D(()=>{I.current.disabled=o},[I,o]),D(()=>(u({type:5,id:a,dataRef:I}),()=>u({type:6,id:a})),[I,a]);let h=g(()=>{u({type:1})}),R=g(p=>{if(o)return p.preventDefault();u({type:1}),W(i.buttonRef.current)}),d=g(()=>{if(o)return u({type:2,focus:b.Nothing});u({type:2,focus:b.Specific,id:a})}),x=ae(),M=g(p=>x.update(p)),l=g(p=>{x.wasMoved(p)&&(o||c||u({type:2,focus:b.Specific,id:a,trigger:0}))}),w=g(p=>{x.wasMoved(p)&&(o||c&&u({type:2,focus:b.Nothing}))}),S=s.useMemo(()=>({active:c,disabled:o,close:h}),[c,o,h]);return T({ourProps:{id:a,ref:v,role:"menuitem",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,disabled:void 0,onClick:R,onFocus:d,onPointerEnter:M,onMouseEnter:M,onPointerMove:l,onMouseMove:l,onPointerLeave:w,onMouseLeave:w},theirProps:t,slot:S,defaultTag:Re,name:"Menu.Item"})}let Me=F(ge),Se=F(be),De=F(xe),Ee=F(we),Ae=Object.assign(Me,{Button:Se,Items:De,Item:Ee});function Fe({title:e,titleId:n,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},r),e?s.createElement("title",{id:n},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}))}const Le=s.forwardRef(Fe);function Pe({title:e,titleId:n,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},r),e?s.createElement("title",{id:n},e):null,s.createElement("path",{fillRule:"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const Ne=s.forwardRef(Pe);export{Ne as F,Le as a,Ae as q};
