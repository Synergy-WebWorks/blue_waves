import{r as i,j as e,s as l}from"./app-ItigxCfy.js";import{u as p,g as f}from"./inventory-thunk-BngjEYV-.js";import{v as x}from"./index-DAQpJbcB.js";import{s as c}from"./index-H2SJ4Qga.js";import{T as b}from"./index-C55IAsMp.js";import{M as h}from"./index-_iyC0mfN.js";import"./useZIndex-VNDqKokz.js";import"./UnstableContext-BIZJnRAh.js";import"./asyncToGenerator-CrVOwTaw.js";import"./index-BQvxLOz9.js";import"./useId-CYpQ8thh.js";import"./colors-C7v37Y9S.js";import"./zoom-dCHJLOn_.js";import"./PurePanel-Bcmn_Plm.js";import"./index-cGf614F1.js";import"./index-CAgWpBho.js";import"./useLocale-O4Qab0CC.js";function T({data:n}){const[d,s]=i.useState(!1),[t,o]=i.useState({}),[a,u]=c.useMessage();i.useEffect(()=>{o(n)},[n]);const m=async r=>{if(r.preventDefault(),!t.quantity||isNaN(t.quantity)||t.quantity<=0){a.error("Please enter a valid quantity");return}if(!t.received){a.error("Please select a valid received date");return}try{await l.dispatch(p(t)),await l.dispatch(f()),c.success("Stocks Added Successfully"),s(!1)}catch{a.error("Error adding stock")}};return e.jsxs("div",{children:[u,e.jsx(b,{title:"Add Stock(s)",children:e.jsx("button",{type:"button",onClick:()=>s(!0),title:"Add Stocks",className:"relative inline-flex items-center rounded-l-md bg-cyan-600 px-3 py-2 text-sm font-semibold text-gray-300 ring-1 ring-gray-300 ring-inset hover:bg-cyan-500 focus:z-10",children:e.jsx(x,{})})}),e.jsx(h,{title:`Add Stock(s) for ${t==null?void 0:t.name}`,centered:!0,open:d,onCancel:()=>s(!1),footer:null,width:500,children:e.jsxs("form",{onSubmit:m,className:"w-full",children:[e.jsx("div",{className:"flex flex-wrap -mx-3",children:e.jsxs("div",{className:"w-full px-3",children:[e.jsx("label",{className:"block tracking-wide font-bold mb-1 mt-2",htmlFor:"quantity",children:"Number of Stocks"}),e.jsx("input",{onChange:r=>o({...t,quantity:parseInt(r.target.value,10)||0}),name:"quantity",className:"appearance-none block w-full border border-gray-400 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",type:"number"})]})}),e.jsx("div",{className:"flex flex-wrap -mx-3 mb-6",children:e.jsxs("div",{className:"w-full px-3",children:[e.jsx("label",{className:"block tracking-wide font-bold mb-1",htmlFor:"received",children:"Date Received"}),e.jsx("input",{value:(t==null?void 0:t.received)||"",onChange:r=>o({...t,received:r.target.value}),name:"received",className:"appearance-none block w-full border border-gray-400 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",type:"date"})]})}),e.jsxs("div",{className:"flex justify-end gap-1.5 mt-1",children:[e.jsx("button",{type:"button",className:"flex justify-end px-2 py-1.5 rounded-md hover:bg-gray-300",onClick:()=>s(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex justify-end bg-blue-600 px-2 py-1.5 rounded-md text-white hover:bg-blue-500",children:"Add Stocks"})]})]})})]})}export{T as default};
