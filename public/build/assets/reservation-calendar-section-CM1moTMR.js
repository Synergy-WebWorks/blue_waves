import{u as g,r as o,h as s,s as x,j as n,A as j}from"./app-DGpweSgL.js";import{b as y}from"./booking-info-thunk-4P7KA7AA.js";import{C as S,B as C}from"./index-DrYzIMF3.js";import"./booking-info-service-C8K-SHcK.js";import"./useZIndex-CZnLjxuf.js";import"./colors-Gk_V2Exa.js";import"./dayjs.min-Cw5GIAiP.js";import"./useId-CnK9WBzW.js";import"./index-BcmPZZC7.js";import"./asyncToGenerator-DQLn8iHN.js";import"./index-wNOttV-i.js";import"./PurePanel-Bn0A5Yh8.js";import"./useLocale-CNVLn-CR.js";import"./index-BNp9MyLT.js";import"./UnstableContext-C7qmDgf7.js";const q=()=>{const{calendars:c}=g(t=>t.booking_info),[a,i]=o.useState({year:s().format("Y"),month:s().format("M")}),m=new URLSearchParams(a).toString();o.useEffect(()=>{x.dispatch(y("?"+m))},[a.year]);const l=t=>c.map(e=>({content:`${e.fname} ${e.lname}`,type:e.status==="pending"?"warning":["canceled","failed"].includes(e.status)?"error":"success",start:s(e.start,"MMMM DD, YYYY")})).filter(e=>e.start.date()===t.date()&&e.start.month()===t.month()),d=t=>{if(t.month()===8)return 1394},p=t=>{const r=d(t);return r?n.jsxs("div",{className:"notes-month",children:[n.jsx("section",{children:r}),n.jsx("span",{children:"Backlog Number"})]}):null},u=t=>{const r=l(t);return n.jsx("ul",{className:"events",children:r.map(e=>n.jsx("li",{children:n.jsx(C,{status:e.type,text:e.content})},e.content))})},h=(t,r)=>r.type==="date"?u(t):r.type==="month"?p(t):r.originNode,f=(t,r)=>{if(r.source=="date"){const e=s(t.$d).format("LL");j.visit(`/admin/reservation?start=${e}`)}};return n.jsx(S,{onChange:t=>i({...a,year:t.$y}),onSelect:f,mode:"month",cellRender:h})};export{q as default};
