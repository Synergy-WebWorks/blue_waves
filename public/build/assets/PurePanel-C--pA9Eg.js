import{k as v,r as o}from"./app-hugckYwc.js";import{al as I,o as R,k as w}from"./useZIndex-CD4ilkEP.js";import{a as S}from"./useId-DTE_XrNH.js";function M(e,t){var r=Object.assign({},e);return Array.isArray(t)&&t.forEach(function(n){delete r[n]}),r}const k=e=>{const t=v.useContext(I);return v.useMemo(()=>e?typeof e=="string"?e??t:typeof e=="function"?e(t):t:t,[e,t])};function z(e,t,r){const{focusElCls:n,focus:s,borderElCls:f}=r,i=f?"> *":"",l=["hover",s?"focus":null,"active"].filter(Boolean).map(u=>`&:${u} ${i}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[l]:{zIndex:2}},n?{[`&${n}`]:{zIndex:2}}:{}),{[`&[disabled] ${i}`]:{zIndex:0}})}}function B(e,t,r){const{borderElCls:n}=r,s=n?`> ${n}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${s}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${s}, &${e}-sm ${s}, &${e}-lg ${s}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${s}, &${e}-sm ${s}, &${e}-lg ${s}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function D(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:r}=e,n=`${r}-compact`;return{[n]:Object.assign(Object.assign({},z(e,n,t)),B(r,n,t))}}function W(e){return t=>o.createElement(R,{theme:{token:{motion:!1,zIndexPopupBase:0}}},o.createElement(e,Object.assign({},t)))}const T=(e,t,r,n,s)=>W(i=>{const{prefixCls:l,style:u}=i,d=o.useRef(null),[h,P]=o.useState(0),[E,O]=o.useState(0),[m,j]=S(!1,{value:i.open}),{getPrefixCls:C}=o.useContext(w),x=C("select",l);o.useEffect(()=>{if(j(!0),typeof ResizeObserver<"u"){const p=new ResizeObserver(a=>{const c=a[0].target;P(c.offsetHeight+8),O(c.offsetWidth)}),b=setInterval(()=>{var a;const c=`.${x}-dropdown`,$=(a=d.current)===null||a===void 0?void 0:a.querySelector(c);$&&(clearInterval(b),p.observe($))},10);return()=>{clearInterval(b),p.disconnect()}}},[]);let g=Object.assign(Object.assign({},i),{style:Object.assign(Object.assign({},u),{margin:0}),open:m,visible:m,getPopupContainer:()=>d.current});Object.assign(g,{[t]:{overflow:{adjustX:!1,adjustY:!1}}});const y={paddingBottom:h,position:"relative",minWidth:E};return o.createElement("div",{ref:d,style:y},o.createElement(e,Object.assign({},g)))});export{T as a,D as g,M as o,k as u,W as w};
