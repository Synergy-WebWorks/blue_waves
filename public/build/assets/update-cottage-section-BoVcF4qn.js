import{r as n,u as f,a as j,j as e,s as h}from"./app-Bze_r7gZ.js";import{a as b,h as v}from"./index-BvtfQlNY.js";import N from"./update-image-section-BYgqgmRX.js";import{u as w,g as k}from"./rent-thunk-eSbNBonA.js";import{T as C}from"./index-DRiZ2AxC.js";import{F as _}from"./XMarkIcon-Bf0KQJoC.js";import{s as y}from"./index-B7fI5s9_.js";import{_ as o}from"./dialog-B_IgWUcR.js";import"./index-DJKh0IHb.js";import"./useZIndex-D11P-6UW.js";import"./useId-DmJ8rj_k.js";import"./index-_fXelqDV.js";import"./zoom-CvhAmoMB.js";import"./LeftOutlined-D2hrgQAq.js";import"./useLocale-BtEkZXo9.js";import"./index-8pOVhW4E.js";import"./asyncToGenerator-Dg5Em90E.js";import"./colors-Do40oi0x.js";import"./UnstableContext-0GSxvNUu.js";import"./use-disposables-DNfH9ka5.js";import"./keyboard-BtZk0htW.js";import"./use-root-containers-DbIbtP-d.js";function Y({data:c}){const[d,l]=n.useState(!1),[p,m]=n.useState(!1),[r,S]=n.useState(null),{activity:F}=f(i=>i.activities),[t,x]=n.useState({});j(),n.useEffect(()=>{x(c)},[d]),console.log("form",t);function a(i){x({...t,[i.target.name]:i.target.value})}async function g(i){i.preventDefault(),m(!0);const s=new FormData;s.append("id",(t==null?void 0:t.id)??""),s.append("file_name",(t==null?void 0:t.file_name)??""),s.append("name",(t==null?void 0:t.name)??""),s.append("rate",(t==null?void 0:t.rate)??""),s.append("min_capacity",(t==null?void 0:t.min_capacity)??""),s.append("max_capacity",(t==null?void 0:t.max_capacity)??""),s.append("description",(t==null?void 0:t.description)??""),s.append("status",t.status??""),r&&r.length>0&&Array.from(r).forEach(u=>{s.append("uploads[]",u)});try{await h.dispatch(w(s)),await h.dispatch(k()),y.success("Cottage successfully updated!"),l(!1)}catch{y.error("Failed to update Cottage. Please try again.")}finally{m(!1)}}return console.log("data",c),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-1 text-center",children:e.jsx(C,{title:"Update Cottage",children:e.jsx("button",{type:"button",onClick:()=>l(!0),children:e.jsx(b,{"aria-hidden":"true",className:"float-left size-6"})})})}),e.jsxs(o,{open:d,onClose:()=>l(!1),className:"relative z-40",children:[e.jsx(o.Backdrop,{className:"fixed inset-0 bg-gray-500/75 transition-opacity duration-500 ease-in-out data-[closed]:opacity-0"}),e.jsx("div",{className:"fixed inset-0 overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10",children:e.jsx(o.Panel,{className:"pointer-events-auto w-screen max-w-md transform transition duration-500 ease-in-out data-[closed]:translate-x-full sm:duration-700",children:e.jsxs("div",{className:"flex h-full flex-col overflow-y-scroll bg-cyan-600 py-6 shadow-xl",children:[e.jsx("div",{className:"px-4 sm:px-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs(o.Title,{className:"text-base font-semibold text-white",children:[e.jsx(v,{className:"size-5 float-left mr-2"})," ","Update Cottage"]}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",onClick:()=>l(!1),className:"relative rounded-md text-gray-600 hover:text-white focus:outline-none",children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx(_,{"aria-hidden":"true",className:"size-6"})]})})]})}),e.jsxs("form",{onSubmit:g,className:"relative mt-6 flex-1 px-4 sm:px-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"sm:col-span-12",children:[e.jsx("hr",{}),e.jsx("h3",{className:"text-base font-medium text-white pt-3",children:"Cottage Information"})]}),e.jsx("div",{className:"sm:col-span-12",children:e.jsx("input",{onChange:a,value:(t==null?void 0:t.name)??"",name:"name",type:"text",placeholder:"Activity Name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-sky-500 focus:border-sky-500 sm:text-sm/6"})}),e.jsx("div",{className:"sm:col-span-12",children:e.jsx("input",{onChange:a,value:(t==null?void 0:t.rate)??"",name:"rate",type:"text",placeholder:"Cottage Rate",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-sky-500 focus:border-sky-500 sm:text-sm/6"})}),e.jsx("div",{className:"sm:col-span-12",children:e.jsx("input",{onChange:a,value:(t==null?void 0:t.min_capacity)??"",name:"min_capacity",type:"text",placeholder:"Minimum Capacity",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-sky-500 focus:border-sky-500 sm:text-sm/6"})}),e.jsx("div",{className:"sm:col-span-12",children:e.jsx("input",{onChange:a,value:(t==null?void 0:t.max_capacity)??"",name:"max_capacity",type:"text",placeholder:"Maximum Capacity",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-sky-500 focus:border-sky-500 sm:text-sm/6"})}),e.jsxs("div",{className:"sm:col-span-12",children:[e.jsx("hr",{}),e.jsx("h3",{className:"text-base font-medium text-white pt-3",children:"Cottage Description"})]}),e.jsx("div",{className:"sm:col-span-12",children:e.jsx("textarea",{name:"description",onChange:a,value:(t==null?void 0:t.description)??"",placeholder:"Activity Description",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-sky-500 focus:border-sky-500 sm:text-sm/6"})}),e.jsxs("div",{className:"sm:col-span-12",children:[e.jsx("hr",{}),e.jsx("h3",{className:"text-base font-medium text-white pt-3",children:"Status"})]}),e.jsx("div",{className:"sm:col-span-12",children:e.jsx("input",{onChange:a,value:(t==null?void 0:t.status)??"",name:"status",type:"text",placeholder:"Status",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-none placeholder:text-gray-400 focus:ring-sky-500 focus:border-sky-500 sm:text-sm/6",readOnly:!0})}),e.jsxs("div",{className:"sm:col-span-12",children:[e.jsx("hr",{}),e.jsx("div",{className:"mt-4 flex justify-center rounded-lg border border-dashed border-white bg-cyan-600 px-6 py-10",children:e.jsx("div",{className:"text-center",children:e.jsx(N,{data:t})})})]})]})}),e.jsxs("div",{className:"flex shrink-0 justify-end px-4 py-4",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:ring-gray-400",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:p,className:"ml-4 inline-flex justify-center rounded-md bg-sky-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-sky-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-500",children:p?"Saving...":"Save"})]})]})]})})})})})]})]})}export{Y as default};
