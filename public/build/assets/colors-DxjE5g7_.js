import{R as g,r as c}from"./app-CJ70CWqZ.js";import{ao as V,ap as H,aq as C,x as U,l as _,ak as L,k as I,w as X,T as G,a2 as Y,a3 as Z,E as J,g as O}from"./asyncToGenerator-zXBD58be.js";import{h as Q}from"./index--xVSUYct.js";import{g as K}from"./UnstableContext-CARaVOE6.js";const y=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function pe(e,n){return y.reduce((t,o)=>{const r=e[`${o}1`],a=e[`${o}3`],s=e[`${o}6`],u=e[`${o}7`];return Object.assign(Object.assign({},t),n(o,{lightColor:r,lightBorderColor:a,darkColor:s,textColor:u}))},{})}function me(e){return e&&g.isValidElement(e)&&e.type===g.Fragment}const ee=(e,n,t)=>g.isValidElement(e)?g.cloneElement(e,typeof t=="function"?t(e.props||{}):t):n;function te(e,n){return ee(e,e,n)}const oe=e=>{const{componentCls:n,colorPrimary:t}=e;return{[n]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${t})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},ne=V("Wave",e=>[oe(e)]),M=`${H}-wave-target`;function P(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function re(e){const{borderTopColor:n,borderColor:t,backgroundColor:o}=getComputedStyle(e);return P(n)?n:P(t)?t:P(o)?o:null}function q(e){return Number.isNaN(e)?0:e}const se=e=>{const{className:n,target:t,component:o,registerUnmount:r}=e,a=c.useRef(null),s=c.useRef(null);c.useEffect(()=>{s.current=r()},[]);const[u,p]=c.useState(null),[d,i]=c.useState([]),[m,v]=c.useState(0),[R,x]=c.useState(0),[E,S]=c.useState(0),[W,h]=c.useState(0),[k,N]=c.useState(!1),T={left:m,top:R,width:E,height:W,borderRadius:d.map(f=>`${f}px`).join(" ")};u&&(T["--wave-color"]=u);function A(){const f=getComputedStyle(t);p(re(t));const l=f.position==="static",{borderLeftWidth:b,borderTopWidth:w}=f;v(l?t.offsetLeft:q(-parseFloat(b))),x(l?t.offsetTop:q(-parseFloat(w))),S(t.offsetWidth),h(t.offsetHeight);const{borderTopLeftRadius:$,borderTopRightRadius:j,borderBottomLeftRadius:B,borderBottomRightRadius:D}=f;i([$,j,D,B].map(F=>q(parseFloat(F))))}if(c.useEffect(()=>{if(t){const f=C(()=>{A(),N(!0)});let l;return typeof ResizeObserver<"u"&&(l=new ResizeObserver(A),l.observe(t)),()=>{C.cancel(f),l==null||l.disconnect()}}},[]),!k)return null;const z=(o==="Checkbox"||o==="Radio")&&(t==null?void 0:t.classList.contains(M));return c.createElement(U,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(f,l)=>{var b,w;if(l.deadline||l.propertyName==="opacity"){const $=(b=a.current)===null||b===void 0?void 0:b.parentElement;(w=s.current)===null||w===void 0||w.call(s).then(()=>{$==null||$.remove()})}return!1}},(f,l)=>{let{className:b}=f;return c.createElement("div",{ref:L(a,l),className:_(n,b,{"wave-quick":z}),style:T})})},ae=(e,n)=>{var t;const{component:o}=n;if(o==="Checkbox"&&!(!((t=e.querySelector("input"))===null||t===void 0)&&t.checked))return;const r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",e==null||e.insertBefore(r,e==null?void 0:e.firstChild);const a=K();let s=null;function u(){return s}s=a(c.createElement(se,Object.assign({},n,{target:e,registerUnmount:u})),r)},ie=(e,n,t)=>{const{wave:o}=c.useContext(I),[,r,a]=X(),s=G(d=>{const i=e.current;if(o!=null&&o.disabled||!i)return;const m=i.querySelector(`.${M}`)||i,{showEffect:v}=o||{};(v||ae)(m,{className:n,token:r,component:t,event:d,hashId:a})}),u=c.useRef(null);return d=>{C.cancel(u.current),u.current=C(()=>{s(d)})}},ve=e=>{const{children:n,disabled:t,component:o}=e,{getPrefixCls:r}=c.useContext(I),a=c.useRef(null),s=r("wave"),[,u]=ne(s),p=ie(a,_(s,u),o);if(g.useEffect(()=>{const i=a.current;if(!i||i.nodeType!==1||t)return;const m=v=>{!Q(v.target)||!i.getAttribute||i.getAttribute("disabled")||i.disabled||i.className.includes("disabled")||i.className.includes("-leave")||p(v)};return i.addEventListener("click",m,!0),()=>{i.removeEventListener("click",m,!0)}},[t]),!g.isValidElement(n))return n??null;const d=Y(n)?L(Z(n),a):a;return te(n,{ref:d})};function be(e){const{sizePopupArrow:n,borderRadiusXS:t,borderRadiusOuter:o}=e,r=n/2,a=0,s=r,u=o*1/Math.sqrt(2),p=r-o*(1-1/Math.sqrt(2)),d=r-t*(1/Math.sqrt(2)),i=o*(Math.sqrt(2)-1)+t*(1/Math.sqrt(2)),m=2*r-d,v=i,R=2*r-u,x=p,E=2*r-a,S=s,W=r*Math.sqrt(2)+o*(Math.sqrt(2)-2),h=o*(Math.sqrt(2)-1),k=`polygon(${h}px 100%, 50% ${h}px, ${2*r-h}px 100%, ${h}px 100%)`,N=`path('M ${a} ${s} A ${o} ${o} 0 0 0 ${u} ${p} L ${d} ${i} A ${t} ${t} 0 0 1 ${m} ${v} L ${R} ${x} A ${o} ${o} 0 0 0 ${E} ${S} Z')`;return{arrowShadowWidth:W,arrowPath:N,arrowPolygon:k}}const he=(e,n,t)=>{const{sizePopupArrow:o,arrowPolygon:r,arrowPath:a,arrowShadowWidth:s,borderRadiusXS:u,calc:p}=e;return{pointerEvents:"none",width:o,height:o,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:o,height:p(o).div(2).equal(),background:n,clipPath:{_multi_value_:!0,value:[r,a]},content:'""'},"&::after":{content:'""',position:"absolute",width:s,height:s,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${J(u)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:t,zIndex:0,background:"transparent"}}},ce=y.map(e=>`${e}-inverse`);function ge(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(O(ce),O(y)).includes(e):y.includes(e)}export{y as P,M as T,ve as W,pe as a,be as b,te as c,ge as d,he as g,me as i};
