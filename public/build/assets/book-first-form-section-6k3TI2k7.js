import{u as y,a as L,r as t,j as e,h as b,A as O,c as _}from"./app-CgfmgBa8.js";import{D as A}from"./index.esm-Bxr_FHOT.js";import H from"./booking-guest-component-Cyc4_nvQ.js";import M from"./booking-cart-component-CwUgw8Zf.js";import N from"./view-rent-image-section-BteIosrD.js";import"./dayjs.min-z1HlR-fX.js";import"./popover-CLONEvFY.js";import"./use-root-containers-CJxiouWM.js";import"./keyboard-BnLQNk2y.js";import"./use-resolve-button-type-yDOJ_8U3.js";import"./index-DytfBOie.js";import"./dialog-DMpnQtZU.js";import"./use-disposables-CPVAdIA-.js";import"./index-u1xEZMfG.js";import"./useZIndex-D-AlGJcQ.js";import"./useId-DRwmPylV.js";import"./index-C_6Xei6O.js";import"./zoom-D6VcJQ0m.js";import"./LeftOutlined-DemjOgiL.js";import"./useLocale-BHpQ9gzw.js";import"./ChevronRightIcon-DMher6ov.js";function oe(){var u,j;const m=new Date;m.setMonth(m.getMonth()+1);const{rents:o}=y(s=>s.rent),{selected:v}=y(s=>s.app),l=new URLSearchParams(window.location.search),D=l.get("adults"),w=l.get("children");console.log("rentsrents",o);const r=((u=o.result)==null?void 0:u.filter(s=>s.type==="cottage"))||[],x=((j=o.result)==null?void 0:j.filter(s=>s.type==="room"))||[],S=L(),[d,p]=t.useState({adults:1,children:0});t.useEffect(()=>{p({adults:D,children:w})},[]);const[i,f]=t.useState({startDate:new Date,endDate:null}),k=l.get("start"),C=l.get("end");t.useEffect(()=>{f({startDate:k,endDate:C})},[]);const h=new Date;h.setHours(0,0,0,0);const[R,B]=t.useState(r.map(()=>0)),[$,F]=t.useState(x.map(()=>0));t.useEffect(()=>{r&&B(new Array(r.length).fill(0))},[r.length]);function E(){O.visit(`/book-reservation?start=${i.startDate}&end=${i.endDate}&adults=${d.adults}&children=${d.children}`)}function g(s){const c=[...v,s],I=Array.from(new Map(c.map(n=>[n.id,n])).values());S(_(I)),P(n=>({...n,[s.id]:!0}))}const[a,P]=t.useState({});return e.jsx("div",{className:"bg-gray-50",children:e.jsx("div",{className:"mx-auto px-4 pt-16 pb-24 sm:px-6 lg:px-8",children:e.jsx("div",{className:"lg:grid lg:grid-cols-1 lg:gap-x-12 xl:gap-x-16",children:e.jsx("div",{children:e.jsxs("div",{className:"mt-2 pt-1 pb-5",children:[e.jsxs("div",{className:"sticky top-0 z-10 bg-gray-50 pt-5 pb-5 px-5 py-5 border-b border-gray-300",children:[e.jsx("h2",{className:"text-lg font-medium text-cyan-600",children:"Booking Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:gap-4",children:[e.jsx(A,{primaryColor:"teal",value:i,onChange:s=>f({...i,startDate:b(s.startDate).format("LL"),endDate:b(s.endDate).format("LL")}),minDate:h,separator:"to",displayFormat:"MM/DD/YYYY",popoverDirection:"down",showShortcuts:!1,useRange:!1,className:"w-full sm:w-1/2 overflow-y-auto"}),e.jsx(H,{setPerson:p,person:d})]}),e.jsx("button",{onClick:E,className:"w-full px-6 py-2 bg-teal-600 text-white font-semibold rounded-lg hover:bg-teal-700 transition",children:"Search"})]}),e.jsx("div",{className:"flex justify-end items-end self-end",children:e.jsx(M,{})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-4 sm:grid-cols-2 sm:gap-x-6 sm:gap-y-10 lg:grid-cols-5 lg:gap-x-8 mt-6 p-3",children:[r.map((s,c)=>e.jsxs("div",{className:"group relative flex flex-col overflow-hidden rounded-lg border border-gray-300 bg-white shadow-lg",children:[e.jsx(N,{data:s}),e.jsxs("div",{className:"flex flex-1 flex-col space-y-2 p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:e.jsx("a",{href:s.href,children:s.name})}),e.jsx("p",{className:"text-sm italic font-bold text-gray-500",children:s.options}),e.jsx("p",{className:"text-sm text-gray-500 text-justify",children:s.description}),e.jsx("div",{className:"flex flex-1 flex-col justify-end",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-base font-medium text-cyan-800",children:parseFloat(s.rate).toLocaleString("en-PH",{style:"currency",currency:"PHP"})}),e.jsx("button",{onClick:()=>g(s),disabled:a[s.id],className:`ml-4 px-2 py-1 rounded-md text-white transition-colors duration-300 ${a[s.id]?"bg-gray-500 cursor-not-allowed":"bg-teal-600 hover:bg-teal-700"}`,children:a[s.id]?"ADDED":"BOOK NOW"})]})})]})]},s.room_id)),x.map((s,c)=>e.jsxs("div",{className:"group relative flex flex-col overflow-hidden rounded-lg border border-gray-300 bg-white shadow-lg",children:[e.jsx(N,{data:s}),e.jsxs("div",{className:"flex flex-1 flex-col space-y-2 p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:e.jsx("a",{href:s.href,children:s.name})}),e.jsx("p",{className:"text-sm italic font-bold text-gray-500",children:s.options}),e.jsx("p",{className:"text-sm text-gray-500 text-justify",children:s.description}),e.jsx("div",{className:"flex flex-1 flex-col justify-end",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-base font-medium text-cyan-800",children:parseFloat(s.rate).toLocaleString("en-PH",{style:"currency",currency:"PHP"})}),e.jsx("button",{onClick:()=>g(s),disabled:a[s.id],className:`ml-4 px-2 py-1 rounded-md text-white transition-colors duration-300 ${a[s.id]?"bg-gray-500 cursor-not-allowed":"bg-teal-600 hover:bg-teal-700"}`,children:a[s.id]?"ADDED":"BOOK NOW"})]})})]})]},s.cottage_id))]})]})})})})})}export{oe as default};
