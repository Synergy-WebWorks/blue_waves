import{r as l,k as p,l as $}from"./app-B_NMsaeA.js";import{U as h,C as E,s as R,o as f,t as M,m as H,y as T,T as F,n as g,p as b,a as S,l as C}from"./keyboard-DwaYKdK0.js";let k="div";var y=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(y||{});function L(e,r){var n;let{features:t=1,...u}=e,o={ref:r,"aria-hidden":(t&2)===2?!0:(n=u["aria-hidden"])!=null?n:void 0,hidden:(t&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(t&4)===4&&(t&2)!==2&&{display:"none"}}};return E({ourProps:o,theirProps:u,slot:{},defaultTag:k,name:"Hidden"})}let x=h(L);function z(e,r,n,t){let u=R(n);l.useEffect(()=>{e=e??window;function o(a){u.current(a)}return e.addEventListener(r,o,t),()=>e.removeEventListener(r,o,t)},[e,r,t])}function A(e){let r=f(e),n=l.useRef(!1);l.useEffect(()=>(n.current=!1,()=>{n.current=!0,M(()=>{n.current&&r()})}),[r])}var B=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(B||{});function J(){let e=l.useRef(0);return H("keydown",r=>{r.key==="Tab"&&(e.current=r.shiftKey?1:0)},!0),e}let N=l.createContext(!1);function U(){return l.useContext(N)}function Q(e){return p.createElement(N.Provider,{value:e.force},e.children)}function j(e){let r=U(),n=l.useContext(P),t=g(e),[u,o]=l.useState(()=>{if(!r&&n!==null||b.isServer)return null;let a=t==null?void 0:t.getElementById("headlessui-portal-root");if(a)return a;if(t===null)return null;let i=t.createElement("div");return i.setAttribute("id","headlessui-portal-root"),t.body.appendChild(i)});return l.useEffect(()=>{u!==null&&(t!=null&&t.body.contains(u)||t==null||t.body.appendChild(u))},[u,t]),l.useEffect(()=>{r||n!==null&&o(n.current)},[n,o,r]),u}let q=l.Fragment;function D(e,r){let n=e,t=l.useRef(null),u=T(F(d=>{t.current=d}),r),o=g(t),a=j(t),[i]=l.useState(()=>{var d;return b.isServer?null:(d=o==null?void 0:o.createElement("div"))!=null?d:null}),c=l.useContext(v),m=S();return C(()=>{!a||!i||a.contains(i)||(i.setAttribute("data-headlessui-portal",""),a.appendChild(i))},[a,i]),C(()=>{if(i&&c)return c.register(i)},[c,i]),A(()=>{var d;!a||!i||(i instanceof Node&&a.contains(i)&&a.removeChild(i),a.childNodes.length<=0&&((d=a.parentElement)==null||d.removeChild(a)))}),m?!a||!i?null:$.createPortal(E({ourProps:{ref:u},theirProps:n,defaultTag:q,name:"Portal"}),i):null}let G=l.Fragment,P=l.createContext(null);function I(e,r){let{target:n,...t}=e,u={ref:T(r)};return p.createElement(P.Provider,{value:n},E({ourProps:u,theirProps:t,defaultTag:G,name:"Popover.Group"}))}let v=l.createContext(null);function V(){let e=l.useContext(v),r=l.useRef([]),n=f(o=>(r.current.push(o),e&&e.register(o),()=>t(o))),t=f(o=>{let a=r.current.indexOf(o);a!==-1&&r.current.splice(a,1),e&&e.unregister(o)}),u=l.useMemo(()=>({register:n,unregister:t,portals:r}),[n,t,r]);return[r,l.useMemo(()=>function({children:o}){return p.createElement(v.Provider,{value:u},o)},[u])]}let O=h(D),K=h(I),X=Object.assign(O,{Group:K});function Y({defaultContainers:e=[],portals:r,mainTreeNodeRef:n}={}){var t;let u=l.useRef((t=n==null?void 0:n.current)!=null?t:null),o=g(u),a=f(()=>{var i,c,m;let d=[];for(let s of e)s!==null&&(s instanceof HTMLElement?d.push(s):"current"in s&&s.current instanceof HTMLElement&&d.push(s.current));if(r!=null&&r.current)for(let s of r.current)d.push(s);for(let s of(i=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?i:[])s!==document.body&&s!==document.head&&s instanceof HTMLElement&&s.id!=="headlessui-portal-root"&&(s.contains(u.current)||s.contains((m=(c=u.current)==null?void 0:c.getRootNode())==null?void 0:m.host)||d.some(w=>s.contains(w))||d.push(s));return d});return{resolveContainers:a,contains:f(i=>a().some(c=>c.contains(i))),mainTreeNodeRef:u,MainTreeNode:l.useMemo(()=>function(){return n!=null?null:p.createElement(x,{features:y.Hidden,ref:u})},[u,n])}}function Z(){let e=l.useRef(null);return{mainTreeNodeRef:e,MainTreeNode:l.useMemo(()=>function(){return p.createElement(x,{features:y.Hidden,ref:e})},[e])}}export{z as E,Y as N,y as a,A as c,V as e,Q as l,J as n,B as s,X as t,x as u,Z as y};
